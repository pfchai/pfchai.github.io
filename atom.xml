<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>chai&#39;s blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.pfchai.com/"/>
  <updated>2016-12-07T03:51:28.228Z</updated>
  <id>http://blog.pfchai.com/</id>
  
  <author>
    <name>pfchai</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>如何在Github中发送Pull Request</title>
    <link href="http://blog.pfchai.com/2016/12/%E5%A6%82%E4%BD%95%E5%9C%A8Github%E4%B8%AD%E5%8F%91%E9%80%81Pull-Request/"/>
    <id>http://blog.pfchai.com/2016/12/如何在Github中发送Pull-Request/</id>
    <published>2016-12-07T03:49:09.000Z</published>
    <updated>2016-12-07T03:51:28.228Z</updated>
    
    <content type="html">&lt;h2 id=&quot;发送pull-request步骤&quot;&gt;&lt;a href=&quot;#发送pull-request步骤&quot; class=&quot;headerlink&quot; title=&quot;发送pull request步骤&quot;&gt;&lt;/a&gt;发送pull request步骤&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;查看要修正的源代码&lt;/li&gt;
&lt;li&gt;Fork项目到自己的仓库中&lt;/li&gt;
&lt;li&gt;从自己的仓库中clone项目到本地&lt;/li&gt;
&lt;li&gt;&lt;p&gt;创建特性分支&lt;/p&gt;
&lt;p&gt; 发送PR时，一般都是发送特性分支，这样可以使PR有更明确的特性&lt;br&gt; 创建分支的步骤&lt;/p&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git branch -a   # 查看项目的分支&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git checkout -b feature master  # 创建feature分支并自动切换&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git branch -a   # 确认是否切换到feature分支下&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;修正代码&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;提交修改&lt;/p&gt;
&lt;p&gt; 提交修改的一般步骤&lt;/p&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git diff    # 查看修改是否正确&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add file&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git commit -m &amp;quot;add new feature&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;创建远程分支&lt;/p&gt;
 &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git push origin feature # 将本地分支发送到远程对应分支中&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git branch -a   # 查看远程分支是否被创建&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;发送PR&lt;/p&gt;
&lt;p&gt; 登录Github，切换到feature分支下，可以点击Compare查看分支间差别，确认修改是否正确。确认没有问题后，点击Create Pull Request，会提示填写本次PR的说明，之后点击Send Pull Request按钮，一个新的PR就已经提交。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;发送Pull-Request要注意的事情&quot;&gt;&lt;a href=&quot;#发送Pull-Request要注意的事情&quot; class=&quot;headerlink&quot; title=&quot;发送Pull Request要注意的事情&quot;&gt;&lt;/a&gt;发送Pull Request要注意的事情&lt;/h2&gt;&lt;p&gt;如果一个bug被修复或是一个功能完成后再发送Pull Request，这样很有可能导致完成功能后才收到设计或是实现方面的指正，使得代码需要大幅修改甚至重新实现，因此，在实际开发中，应该&lt;strong&gt;尽早&lt;/strong&gt;创建Pull Request，从审查中获得反馈，让大家在设计与实现方面一致。&lt;/p&gt;
&lt;p&gt;向发送过Pull Request的分支添加提交时，该提交会自动添加至已发送的Pull Request中，不用担心提早发送Pull Request会非常麻烦。&lt;/p&gt;
&lt;p&gt;在发送未完全实现的Pull Request时，有几个好的习惯会让交流更加顺畅：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;可以加入直观移动的TaskList，就可以清晰的反映出哪些功能已经实现，哪些还未被实现，这样既可以加快审查者的工作效率，还可以作为自己的备忘录；&lt;/li&gt;
&lt;li&gt;不要在Pull Request添加与本次Pull Request无关的修改，应重新发起一个Pull Request；&lt;/li&gt;
&lt;li&gt;为了防止开发到一半的Pull Request被误合并，一般都会在标题前加上“[WIP]”，WIP是Work In Progress的简称，表示还在开发中，等所有的功能都实现后，再删掉这个前缀。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果想要更好的了解Pull Request，可以看下面两篇文章&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/geeeeeeeeek/git-recipes/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/geeeeeeeeek/git-recipes/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/oldratlee/translations/blob/master/git-workflows-and-tutorials/pull-request.md&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/oldratlee/translations/blob/master/git-workflows-and-tutorials/pull-request.md&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;发送pull-request步骤&quot;&gt;&lt;a href=&quot;#发送pull-request步骤&quot; class=&quot;headerlink&quot; title=&quot;发送pull request步骤&quot;&gt;&lt;/a&gt;发送pull request步骤&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;查看要修正的源代
    
    </summary>
    
    
      <category term="Github" scheme="http://blog.pfchai.com/tags/Github/"/>
    
      <category term="Git" scheme="http://blog.pfchai.com/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>图像去雾</title>
    <link href="http://blog.pfchai.com/2016/10/%E5%9B%BE%E5%83%8F%E5%8E%BB%E9%9B%BE/"/>
    <id>http://blog.pfchai.com/2016/10/图像去雾/</id>
    <published>2016-10-22T14:21:50.000Z</published>
    <updated>2016-10-22T16:02:12.196Z</updated>
    
    <content type="html">&lt;p&gt;刷博客的时候，无意中看到一篇介绍图像去雾的博客，讲到何凯明的《Single Image Haze Removal Using Dark Channel Prior》这篇文章，2009年CVPR的最佳论文，简单看了下介绍，瞬间就对作者佩服的五体投地，感叹这才叫做研究。&lt;br&gt;论文《Single Image Haze Removal Using Dark Channel Prior》可以在&lt;a href=&quot;http://kaiminghe.com/cvpr09/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;下载到，并且里面还有论文相关的幻灯片和其他参考论文等信息。&lt;/p&gt;
&lt;h2 id=&quot;1-论文的主要介绍&quot;&gt;&lt;a href=&quot;#1-论文的主要介绍&quot; class=&quot;headerlink&quot; title=&quot;1. 论文的主要介绍&quot;&gt;&lt;/a&gt;1. 论文的主要介绍&lt;/h2&gt;&lt;h3 id=&quot;1-1-暗通道先验&quot;&gt;&lt;a href=&quot;#1-1-暗通道先验&quot; class=&quot;headerlink&quot; title=&quot;1.1 暗通道先验&quot;&gt;&lt;/a&gt;1.1 暗通道先验&lt;/h3&gt;&lt;p&gt;暗通道先验是基于户外无雾图像的观察，在大部分不包含天空的图像中，在r,g,b三个通道中，至少有一个通道的最小灰度值非常小。用公式表示为，图像的暗通道J定义为：&lt;br&gt;$$&lt;br&gt;J^{dark}(x)=\min_{y\in{r,g,b}}(\min_{y\in\Omega(x)}(J^c(y))&lt;br&gt;$$&lt;br&gt;其中，$J^c$表示J的颜色通道，$\Omega(x)$表示以x为中心的窗口。&lt;br&gt;观察发现，对于户外无雾图片，$J^{dark}$值是非常小的，由此，称这个统计规律为暗通道先验。&lt;/p&gt;
&lt;h3 id=&quot;1-2-图像去雾&quot;&gt;&lt;a href=&quot;#1-2-图像去雾&quot; class=&quot;headerlink&quot; title=&quot;1.2 图像去雾&quot;&gt;&lt;/a&gt;1.2 图像去雾&lt;/h3&gt;&lt;p&gt;在计算机视觉和计算机图形学中，通常使用下面的模型描述有雾图像：&lt;br&gt;$$&lt;br&gt;I(x)=J(x)t(x) + A(1-t(x))&lt;br&gt;$$&lt;br&gt;其中，I(x)就是观察到的含雾图像，J(x)是不包含雾的图像，A是全球大气光成分系数，t(x)表示透射率。图像去雾的问题实际上是根据已知的I(x)来求J(x)。&lt;/p&gt;
&lt;h3 id=&quot;1-3-计算透射率&quot;&gt;&lt;a href=&quot;#1-3-计算透射率&quot; class=&quot;headerlink&quot; title=&quot;1.3 计算透射率&quot;&gt;&lt;/a&gt;1.3 计算透射率&lt;/h3&gt;&lt;p&gt;首先，假设大气光成分系数A是已知的，进一步的，假设在图像的一个小窗口内$\Omega(x)$，透射率t(x)是一个常数，对有雾图像模型的窗口内，使用min操作，得到：&lt;br&gt;$$&lt;br&gt;\min_{y\in\Omega(x)}(I^c(y)) = \tilde{t}(x)\min_{y\in\Omega(x)}(J^c(y))+(1-\tilde{t}(x))A^c&lt;br&gt;$$&lt;/p&gt;
&lt;p&gt;min操作是在三个色彩通道上独立进行的，所以等式可以化简为：&lt;br&gt;$$&lt;br&gt;\min_{y\in\Omega(x)}(\frac{I^c(y)}{A^c}) = \tilde{t}(x)\min_{y\in\Omega(x)}(\frac{J^c(y)}{A^c})+(1-\tilde{t}(x))&lt;br&gt;$$&lt;/p&gt;
&lt;p&gt;对上面等式中三个色彩通道使用min操作，得到&lt;br&gt;$$&lt;br&gt;\min_c(\min_{y\in\Omega(x)}(\frac{I^c(y)}{A^c})) = \tilde{t} \min_c( (x)\min_{y\in\Omega(x)}(\frac{J^c(y)}{A^c})) + (1-\tilde{t}(x))&lt;br&gt;\tag{公式8}&lt;br&gt;$$&lt;/p&gt;
&lt;p&gt;根据暗通道先验，无雾图像J的暗通道$J^{dark}$趋向于0：&lt;br&gt;$$&lt;br&gt;J^{dark}(x) = \min_c( \min_{y\in\Omega(x)}(J^c(y))) = 0&lt;br&gt;$$&lt;/p&gt;
&lt;p&gt;$A^c$一直是一个正数，可得：&lt;br&gt;$$&lt;br&gt;\min_c(\min_{y\in\Omega(x)}(\frac{I^c(y)}{A^c})) = 0&lt;br&gt;\tag{公式10}&lt;br&gt;$$&lt;/p&gt;
&lt;p&gt;将公式10代入公式8中，得到：&lt;br&gt;$$&lt;br&gt;\tilde{t}(x) = 1 - \min_c(\min_{y\in\Omega(x)}(\frac{I^c(y)}{A^c}))&lt;br&gt;\tag{公式11}&lt;br&gt;$$&lt;br&gt;由此，得到透射率$\tilde{t}(x)$。&lt;/p&gt;
&lt;p&gt;前面有说道，暗通道先验在天空的区域效果不好，不过幸运的是，有雾图像中天空的颜色通常都跟大气光成分A非常相似，由此，在天空区域有：&lt;br&gt;$$&lt;br&gt;\min_c(\min_{y\in\Omega(x)}(\frac{I^c(y)}{A^c})) \rightarrow 1 \text{, and }  \tilde{t}(x) \rightarrow 0,&lt;br&gt;$$&lt;/p&gt;
&lt;p&gt;在天空区域，图像的透射率趋向于0，这样，公式11就很好的概况了没有天空区域和有天空区域。&lt;/p&gt;
&lt;p&gt;在现实生活中，图像中少量的雾能够反映物体的深度信息，所以，我们可以保留一点雾来让图像更加自然一些。&lt;br&gt;$$&lt;br&gt;\tilde{t}(x) = 1 - \omega\min_c(\min_{y\in\Omega(x)}(\frac{I^c(y)}{A^c}))&lt;br&gt;$$&lt;br&gt;$\omega$一般取0.95。&lt;/p&gt;
&lt;h3 id=&quot;1-4-大气光成分系数&quot;&gt;&lt;a href=&quot;#1-4-大气光成分系数&quot; class=&quot;headerlink&quot; title=&quot;1.4 大气光成分系数&quot;&gt;&lt;/a&gt;1.4 大气光成分系数&lt;/h3&gt;&lt;p&gt;大气光成分系数一般是借助暗通道图获得的，首先在暗通道图中找出前0.1%的像素位置，再在这些位置中找出最高亮度的点作为大气光成分系数A。&lt;/p&gt;
&lt;h3 id=&quot;1-5-恢复无雾图像&quot;&gt;&lt;a href=&quot;#1-5-恢复无雾图像&quot; class=&quot;headerlink&quot; title=&quot;1.5 恢复无雾图像&quot;&gt;&lt;/a&gt;1.5 恢复无雾图像&lt;/h3&gt;&lt;p&gt;现在，I、A、T都已知，则无雾图像为：&lt;br&gt;$$&lt;br&gt;J(x) = \frac{I(x) - A}{max(t(x), t_0)} + A&lt;br&gt;$$&lt;br&gt;其中，$max(t(x), t_0)$主要是防止t值很小时，J值偏大，使得图像过白，一般设置$t_0$为0.1。&lt;/p&gt;
&lt;h2 id=&quot;2-我的一个实现&quot;&gt;&lt;a href=&quot;#2-我的一个实现&quot; class=&quot;headerlink&quot; title=&quot;2. 我的一个实现&quot;&gt;&lt;/a&gt;2. 我的一个实现&lt;/h2&gt;&lt;p&gt;看我文章后，我自己用Python写了一个程序简单实现下。程序放在&lt;a href=&quot;https://github.com/pfchai/Haze-Removal&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;了。同时，我用Flask搭了一个简单的服务，可以直接上传有雾图片得到去雾后的图片，感兴趣的可以去&lt;a href=&quot;http://tools.pfchai.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://tools.pfchai.com&lt;/a&gt;看看。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;刷博客的时候，无意中看到一篇介绍图像去雾的博客，讲到何凯明的《Single Image Haze Removal Using Dark Channel Prior》这篇文章，2009年CVPR的最佳论文，简单看了下介绍，瞬间就对作者佩服的五体投地，感叹这才叫做研究。&lt;br&gt;
    
    </summary>
    
    
      <category term="图像处理" scheme="http://blog.pfchai.com/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
      <category term="算法" scheme="http://blog.pfchai.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Python 解析&amp;#开头的字符串</title>
    <link href="http://blog.pfchai.com/2016/09/Python-%E8%A7%A3%E6%9E%90-%E5%BC%80%E5%A4%B4%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <id>http://blog.pfchai.com/2016/09/Python-解析-开头的字符串/</id>
    <published>2016-09-18T09:38:09.000Z</published>
    <updated>2016-09-18T09:39:41.613Z</updated>
    
    <content type="html">&lt;p&gt;爬虫的时候，发现网页中好多中文都是用&amp;amp;#开头的一串字符表示，搞不懂是什么编码，直到看到知乎上的一个&lt;a href=&quot;http://zhihu.com/question/21390312/answer/18091465&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;回答&lt;/a&gt;。&lt;br&gt;引用原作者的话，这一串字符是HTML、XML等SGML类语言的转义序列，不是编码。而以&lt;code&gt;&amp;amp;#&lt;/code&gt;开头的叫numeric character reference（NCR），&lt;code&gt;&amp;amp;#&lt;/code&gt;后面可以跟十进制数字或是以&lt;code&gt;x&lt;/code&gt;开头的16进制数字，数字为目标字符的Unicode code point，并以&lt;code&gt;；&lt;/code&gt;结束。具体的解释可以看&lt;a href=&quot;http://zhihu.com/question/21390312/answer/18091465&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;原答案&lt;/a&gt;或是自行搜索。&lt;/p&gt;
&lt;p&gt;Python 中处理这种转义序列也很简单，直接使用标准库中的HTMLParser解析即可：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;from HTMLParser import HTMLParser&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;print HTMLParser().unescape(&amp;apos;&amp;amp;#20013;&amp;amp;#22269;&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;爬虫的时候，发现网页中好多中文都是用&amp;amp;#开头的一串字符表示，搞不懂是什么编码，直到看到知乎上的一个&lt;a href=&quot;http://zhihu.com/question/21390312/answer/18091465&quot; target=&quot;_blank&quot; rel=&quot;ex
    
    </summary>
    
    
      <category term="Python" scheme="http://blog.pfchai.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Clojure 爬虫：抓取花瓣网图片</title>
    <link href="http://blog.pfchai.com/2016/08/Clojure-%E7%88%AC%E8%99%AB%EF%BC%9A%E6%8A%93%E5%8F%96%E8%8A%B1%E7%93%A3%E7%BD%91%E5%9B%BE%E7%89%87/"/>
    <id>http://blog.pfchai.com/2016/08/Clojure-爬虫：抓取花瓣网图片/</id>
    <published>2016-08-28T14:10:57.000Z</published>
    <updated>2016-09-06T13:02:58.897Z</updated>
    
    <content type="html">&lt;p&gt;最近刚看完《Clojure程序设计》，书上的例子都能看懂，但要开始用Clojure还是有点不知道怎么下手，想写个小程序练练手。之前用Python写过一个抓取花瓣网美女画板下图片的小爬虫，爬虫过程很简单，也没有涉及登录验证或是反爬虫之类的，用来熟悉新语言非常合适，就有了这个Clojure版的爬虫。&lt;/p&gt;
&lt;p&gt;我用Python的实现可以看我之前的&lt;a href=&quot;http://www.cnblogs.com/nan86150/p/4272452.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;博客&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id=&quot;1-分析网站&quot;&gt;&lt;a href=&quot;#1-分析网站&quot; class=&quot;headerlink&quot; title=&quot;1. 分析网站&quot;&gt;&lt;/a&gt;1. 分析网站&lt;/h2&gt;&lt;p&gt;花瓣网美女画板的地址是：&lt;a href=&quot;http://huaban.com/favorite/beauty/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://huaban.com/favorite/beauty/&lt;/a&gt; ，访问该地址会展示20张美女图片，当浏览到页面底端，浏览器再通过Ajax加载20幅图片。爬虫也分两部分，抓取美女面板首页图片和抓取Ajax加载的图片。&lt;/p&gt;
&lt;h3 id=&quot;1-1-抓取首页图片&quot;&gt;&lt;a href=&quot;#1-1-抓取首页图片&quot; class=&quot;headerlink&quot; title=&quot;1.1 抓取首页图片&quot;&gt;&lt;/a&gt;1.1 抓取首页图片&lt;/h3&gt;&lt;p&gt;访问 &lt;a href=&quot;http://huaban.com/favorite/beauty/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://huaban.com/favorite/beauty/&lt;/a&gt; 得到的响应如下：&lt;/p&gt;
&lt;center&gt; &lt;img src=&quot;http://static.zybuluo.com/pfchai/ghlfkbbny65cvdhx1nzm4pe3/image_1ar7joqrl1pp618ed1i2sh3rp38m.png&quot; alt=&quot;image_1ar7joqrl1pp618ed1i2sh3rp38m.png-68.3kB&quot;&gt; &lt;/center&gt;

&lt;p&gt;可以看到，花瓣网的页面是js动态生成的，我们可以不用渲染页面，直接分析js数据，找到图片地址信息。分析对比发现，图片的信息在app.page[“pins”]变量中，是一个json字符串。在json字符串中，对应20个字典，每个字典对应一张图片信息，字典结构类似这种&lt;/p&gt;
&lt;center&gt; &lt;img src=&quot;http://images.cnitblog.com/blog/346307/201502/041629528742079.png&quot; alt=&quot;json&quot;&gt; &lt;/center&gt;

&lt;p&gt;图片地址与”file”下面的”key”中的内容有关。&lt;/p&gt;
&lt;h3 id=&quot;1-2-抓取下拉刷新图片&quot;&gt;&lt;a href=&quot;#1-2-抓取下拉刷新图片&quot; class=&quot;headerlink&quot; title=&quot;1.2 抓取下拉刷新图片&quot;&gt;&lt;/a&gt;1.2 抓取下拉刷新图片&lt;/h3&gt;&lt;p&gt;对网站分析发现，访问 &lt;a href=&quot;http://huaban.com/favorite/beauty/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://huaban.com/favorite/beauty/&lt;/a&gt; 只会展示20张图片，之后每次浏览到页面底端，都会通过Ajax请求得到20张新的图片。Ajax请求url为”&lt;a href=&quot;http://huaban.com/favorite/beauty/?ise2bat0&amp;amp;max=832135275&amp;amp;limit=20&amp;amp;wfl=1&amp;quot;，其中832135275是页面最后一张图片的`pin_id`值。&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://huaban.com/favorite/beauty/?ise2bat0&amp;amp;max=832135275&amp;amp;limit=20&amp;amp;wfl=1&amp;quot;，其中832135275是页面最后一张图片的`pin_id`值。&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在请求头添加：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;Accept&amp;quot; &amp;quot;application/json&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;X-Requested-With&amp;quot; &amp;quot;XMLHttpRequest&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;X-Request&amp;quot; &amp;quot;JSON&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;模拟Ajax请求，得到图片的json数据，直接解析json数据得到图片地址信息。&lt;/p&gt;
&lt;h2 id=&quot;2-编写爬虫&quot;&gt;&lt;a href=&quot;#2-编写爬虫&quot; class=&quot;headerlink&quot; title=&quot;2. 编写爬虫&quot;&gt;&lt;/a&gt;2. 编写爬虫&lt;/h2&gt;&lt;h3 id=&quot;2-1-初始化项目&quot;&gt;&lt;a href=&quot;#2-1-初始化项目&quot; class=&quot;headerlink&quot; title=&quot;2.1 初始化项目&quot;&gt;&lt;/a&gt;2.1 初始化项目&lt;/h3&gt;&lt;p&gt;使用Leiningen构建项目&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;lein new app clojure-crawle&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;项目中用到了两个库，&lt;code&gt;data.json&lt;/code&gt; 是处理json数据的，&lt;a href=&quot;http://www.http-kit.org/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&lt;code&gt;http-kit&lt;/code&gt;&lt;/a&gt;是处理http请求的，在&lt;code&gt;project.clj&lt;/code&gt;中添加这两个依赖：&lt;br&gt;&lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;:dependencies&lt;/span&gt; [[org.clojure/clojure &lt;span class=&quot;string&quot;&gt;&quot;1.7.0&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               [org.clojure/data.json &lt;span class=&quot;string&quot;&gt;&quot;0.2.6&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               [http-kit &lt;span class=&quot;string&quot;&gt;&quot;2.2.0&quot;&lt;/span&gt;]]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;2-2-爬取首页图片&quot;&gt;&lt;a href=&quot;#2-2-爬取首页图片&quot; class=&quot;headerlink&quot; title=&quot;2.2 爬取首页图片&quot;&gt;&lt;/a&gt;2.2 爬取首页图片&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;获取花瓣网美女标签下的html页面&lt;/p&gt;
 &lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; get-home-page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;请求首页内容&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;let&lt;/span&gt;&lt;/span&gt; [options &amp;#123;&lt;span class=&quot;symbol&quot;&gt;:timeout&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                 &lt;span class=&quot;symbol&quot;&gt;:as&lt;/span&gt; &lt;span class=&quot;symbol&quot;&gt;:text&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        url &lt;span class=&quot;string&quot;&gt;&quot;http://huaban.com/favorite/beauty/&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;span class=&quot;symbol&quot;&gt;:keys&lt;/span&gt; [body]&amp;#125; @(&lt;span class=&quot;name&quot;&gt;http/get&lt;/span&gt; url options)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    body))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;从html页面中获取图片信息json&lt;/p&gt;
 &lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; get-image-info&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;从首页内容得到图片信息&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [page]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;subs&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;re-find&lt;/span&gt;&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;re-matcher&lt;/span&gt; #&lt;span class=&quot;string&quot;&gt;&quot;page\[\&quot;pins\&quot;\].*;&quot;&lt;/span&gt; page)) &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;解析json数据位列表&lt;/p&gt;
 &lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; str2json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;将json字符串转换为字典&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [body]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;json/read-str&lt;/span&gt; body &lt;span class=&quot;symbol&quot;&gt;:key-fn&lt;/span&gt; keyword))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;下载一张图片&lt;/p&gt;
 &lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; download-image&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;将图片保存在本地&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [url file-name]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;println&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;str&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;download &quot;&lt;/span&gt; url))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;with-open&lt;/span&gt;&lt;/span&gt; [in (&lt;span class=&quot;name&quot;&gt;io/input-stream&lt;/span&gt; url)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              out (&lt;span class=&quot;name&quot;&gt;io/output-stream&lt;/span&gt; file-name)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    (&lt;span class=&quot;name&quot;&gt;io/copy&lt;/span&gt; in out)))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;下载一页20张图片&lt;/p&gt;
 &lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; make-image-url&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;根据key值得到图片真实地址&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [k]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;str&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;http://hbimg.b0.upaiyun.com/&quot;&lt;/span&gt; k &lt;span class=&quot;string&quot;&gt;&quot;_fw658&quot;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; make-file-name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [file-name]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;str&lt;/span&gt;&lt;/span&gt; image-save-path file-name &lt;span class=&quot;string&quot;&gt;&quot;.jpg&quot;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; download-images&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;根据json字符串下载图片&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [jsons]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;dorun&lt;/span&gt;&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;map&lt;/span&gt;&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;fn&lt;/span&gt;&lt;/span&gt; [a]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;let&lt;/span&gt;&lt;/span&gt; [k (&lt;span class=&quot;symbol&quot;&gt;:key&lt;/span&gt; (&lt;span class=&quot;symbol&quot;&gt;:file&lt;/span&gt; a)) file-name (&lt;span class=&quot;symbol&quot;&gt;:pin_id&lt;/span&gt; a)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  (&lt;span class=&quot;name&quot;&gt;download-image&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;make-image-url&lt;/span&gt; k) (&lt;span class=&quot;name&quot;&gt;make-file-name&lt;/span&gt; file-name))))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              jsons))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;symbol&quot;&gt;:pin_id&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;last&lt;/span&gt;&lt;/span&gt; jsons)))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;美女标签页首页图片的完整下载过程&lt;/p&gt;
 &lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; download-home-page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;下载首页图片&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;get-home-page&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      get-image-info&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      str2json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      download-images))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;2-3-爬取Ajax加载的图片&quot;&gt;&lt;a href=&quot;#2-3-爬取Ajax加载的图片&quot; class=&quot;headerlink&quot; title=&quot;2.3 爬取Ajax加载的图片&quot;&gt;&lt;/a&gt;2.3 爬取Ajax加载的图片&lt;/h3&gt;&lt;figure class=&quot;highlight clojure&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; make-json-request-url&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;根据pin值创建Ajax请求url&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [pin]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;str&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;http://huaban.com/favorite/beauty/?is07k6hx&amp;amp;max=&quot;&lt;/span&gt; pin &lt;span class=&quot;string&quot;&gt;&quot;&amp;amp;limit=20&amp;amp;wfl=1&quot;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; get-more-page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;加载Ajax请求&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [last-pin]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;let&lt;/span&gt;&lt;/span&gt; [options &amp;#123;&lt;span class=&quot;symbol&quot;&gt;:timeout&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                 &lt;span class=&quot;symbol&quot;&gt;:as&lt;/span&gt; &lt;span class=&quot;symbol&quot;&gt;:text&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                 &lt;span class=&quot;symbol&quot;&gt;:headers&lt;/span&gt; &amp;#123;&lt;span class=&quot;string&quot;&gt;&quot;Accept&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;application/json&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                           &lt;span class=&quot;string&quot;&gt;&quot;X-Requested-With&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;XMLHttpRequest&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                           &lt;span class=&quot;string&quot;&gt;&quot;X-Request&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;JSON&quot;&lt;/span&gt;&amp;#125;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;span class=&quot;symbol&quot;&gt;:keys&lt;/span&gt; [body]&amp;#125; @(&lt;span class=&quot;name&quot;&gt;http/get&lt;/span&gt; (&lt;span class=&quot;name&quot;&gt;make-json-request-url&lt;/span&gt; last-pin) options)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    body))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;defn&lt;/span&gt;&lt;/span&gt; download-more&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;下载通过Ajax异步加载的图片&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [last-pin]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (&lt;span class=&quot;name&quot;&gt;&lt;span class=&quot;builtin-name&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;/span&gt; last-pin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      get-more-page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      str2json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      second&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      second&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      download-images))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;3-项目地址&quot;&gt;&lt;a href=&quot;#3-项目地址&quot; class=&quot;headerlink&quot; title=&quot;3. 项目地址&quot;&gt;&lt;/a&gt;3. 项目地址&lt;/h2&gt;&lt;p&gt;完整的项目我放在了&lt;a href=&quot;https://github.com/pfchai/Crawler-Demo/tree/master/huaban/clojure-crawler&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;上了。大家可以下载下来运行玩一玩。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近刚看完《Clojure程序设计》，书上的例子都能看懂，但要开始用Clojure还是有点不知道怎么下手，想写个小程序练练手。之前用Python写过一个抓取花瓣网美女画板下图片的小爬虫，爬虫过程很简单，也没有涉及登录验证或是反爬虫之类的，用来熟悉新语言非常合适，就有了这个C
    
    </summary>
    
    
      <category term="Clojure" scheme="http://blog.pfchai.com/tags/Clojure/"/>
    
      <category term="爬虫" scheme="http://blog.pfchai.com/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>高逼格使用MATLAB之: 少写for循环</title>
    <link href="http://blog.pfchai.com/2016/07/%E9%AB%98%E9%80%BC%E6%A0%BC%E4%BD%BF%E7%94%A8MATLAB%E4%B9%8B-%E5%B0%91%E5%86%99for%E5%BE%AA%E7%8E%AF/"/>
    <id>http://blog.pfchai.com/2016/07/高逼格使用MATLAB之-少写for循环/</id>
    <published>2016-07-19T12:34:44.000Z</published>
    <updated>2016-10-17T03:55:12.600Z</updated>
    
    <content type="html">&lt;p&gt;看到太多的人把MATLAB当成C语言来写，甚至像矩阵求和这种的，都要写个for循环来做，不仅整个程序看起来很乱，而且不管开发效率还是程序执行效率都降低了太多。我在研一学人工神经网络这门课程的时候，就有看过别人写的一些MATLAB程序，用矩阵的一些操作代替了for循环，程序看起来简洁干净，效率也有提高。&lt;br&gt;这篇文章接下来会介绍几个函数，能把原来需要用for循环来处理矩阵的，通过自带函数替换掉for循环。用这些函数的好处是代码会简洁很多，同时MATLAB也会优化操作过程，提高效率。&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;1-对矩阵非线性滤波操作或滑动窗口操作&quot;&gt;&lt;a href=&quot;#1-对矩阵非线性滤波操作或滑动窗口操作&quot; class=&quot;headerlink&quot; title=&quot;1. 对矩阵非线性滤波操作或滑动窗口操作&quot;&gt;&lt;/a&gt;1. 对矩阵非线性滤波操作或滑动窗口操作&lt;/h2&gt;&lt;h3 id=&quot;1-1-colfilt&quot;&gt;&lt;a href=&quot;#1-1-colfilt&quot; class=&quot;headerlink&quot; title=&quot;1.1 colfilt&quot;&gt;&lt;/a&gt;1.1 colfilt&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;函数语法：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; B = colfilt(A,[m n],block_type,fun)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; B = colfilt(A,[m n],[mblock nblock],block_type,fun)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; B = colfilt(A,’indexed’,…)&lt;/p&gt;
&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A - 要进行滤波的矩阵&lt;/li&gt;
&lt;li&gt;[m, n] - 窗口大小&lt;/li&gt;
&lt;li&gt;block_type：&lt;ul&gt;
&lt;li&gt;‘sliding’ - 滑动窗口模式，逐个像素滑动，下面主要讲的是这个模式&lt;/li&gt;
&lt;li&gt;‘distinct’ - 块模式，对矩阵使用fun函数按指定窗口大小操作&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;fun - 滤波函数&lt;/li&gt;
&lt;li&gt;parameters - 函数要传入的其他参数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;函数功能：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 对矩阵的领域操作&lt;/p&gt;
&lt;p&gt;当block_type为‘sliding’模式时，&lt;code&gt;colfilt&lt;/code&gt;函数执行过程如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;首先对f进行列变换，假设f是MxN的图像，则会生成一个 mn x MN 的矩阵。其实就是把原图像每个像素邻域内的mn个像素排成一列，原图像总共有MN个像素，因此变换后的矩阵就有MN&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;然后colfilt会每次选择多列作为一个矩阵传入到fun中进行处理，到底选择几列是由colfilt按照一定策略进行的。而传入矩阵的行数肯定是mn。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;fun函数对传入的矩阵进行运算，一般是一列一列的处理，然后返回一个行向量，这个行向量的每个元素对应每列处理的结果，因此传入的矩阵有多少列就按序生成多少个结果放到对&amp;gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;colfilt对返回的行向量进行存储、反变换，最后得到和原图像等大小的一个矩阵，这就是非线性滤波的最终结果。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;示例，对图像进行中值滤波&lt;br&gt;&lt;figure class=&quot;highlight matlab&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;I = imread(&lt;span class=&quot;string&quot;&gt;&#39;tire.tif&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;I2 = uint8(colfilt(I,[&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;],&lt;span class=&quot;string&quot;&gt;&#39;sliding&#39;&lt;/span&gt;,@median));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;figure&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;subplot(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;), imshow(I), title(&lt;span class=&quot;string&quot;&gt;&#39;Original Image&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;subplot(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;), imshow(I2), title(&lt;span class=&quot;string&quot;&gt;&#39;Filtered Image&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;1-2-nlfilter&quot;&gt;&lt;a href=&quot;#1-2-nlfilter&quot; class=&quot;headerlink&quot; title=&quot;1.2 nlfilter&quot;&gt;&lt;/a&gt;1.2 nlfilter&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;函数语法：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; B = nlfilter(A, [m n], fun)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; B = nlfilter(A, ‘indexed’,…)&lt;br&gt;其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A - 要进行滤波的矩阵&lt;/li&gt;
&lt;li&gt;[m, n] - 窗口大小&lt;/li&gt;
&lt;li&gt;fun - 滤波函数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;函数功能：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 使用滑动窗口操作矩阵&lt;/p&gt;
&lt;p&gt;nlfilter比colfilt占用更少的内存，但执行效率没有nfilter好。图像处理过程中，使用滑动窗口操作的过程都可可以使用这两个函数。如，对图像应用滑动窗口技术，求解每个窗口内&amp;gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Iout = nlfilter(image, [8 8], @std2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Iout = colfilt(image, [8 8], &amp;apos;sliding&amp;apos;, @std);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;2-块处理函数-blockproc&quot;&gt;&lt;a href=&quot;#2-块处理函数-blockproc&quot; class=&quot;headerlink&quot; title=&quot;2. 块处理函数 blockproc&quot;&gt;&lt;/a&gt;2. 块处理函数 blockproc&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;函数语法：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; B = blockproc(A,blockSize,fun)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; B = blockproc(src_filename,blockSize,fun)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; B = blockproc(adapter,blockSize,fun)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; blockproc(___,Name,Value,…)&lt;br&gt;其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A - 要进行块操作的矩阵&lt;/li&gt;
&lt;li&gt;blockSize - 块大小&lt;/li&gt;
&lt;li&gt;fun - 处理函数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;函数功能：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 将矩阵A分成blockSize大小的离散小块，然后对每一个小块使用fun函数进行处理&lt;/p&gt;
&lt;p&gt;应用示例：&lt;/p&gt;
&lt;p&gt;示例1：计算图像的缩略图&lt;br&gt;&lt;figure class=&quot;highlight matlab&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;fun = @(block_struct) imresize(block_struct.data,&lt;span class=&quot;number&quot;&gt;0.15&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;I = imread(&lt;span class=&quot;string&quot;&gt;&#39;pears.png&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;I2 = blockproc(I,[&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;],fun);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;figure;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;imshow(I);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;figure;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;imshow(I2);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;示例2：将RGB图像的红色和绿色通道互换&lt;br&gt;&lt;figure class=&quot;highlight matlab&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;I = imread(&lt;span class=&quot;string&quot;&gt;&#39;peppers.png&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fun = @(block_struct) block_struct.data(:,:,[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;blockproc(I,[&lt;span class=&quot;number&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;],fun,&lt;span class=&quot;string&quot;&gt;&#39;Destination&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;grb_peppers.tif&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;figure;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;imshow(&lt;span class=&quot;string&quot;&gt;&#39;peppers.png&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;figure;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;imshow(&lt;span class=&quot;string&quot;&gt;&#39;grb_peppers.tif&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;示例3：将图像缩小为原来的1/2，缩小后的图像像素为对应原始图像中4个像素值的平均&lt;br&gt;&lt;figure class=&quot;highlight matlab&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;fun = @(x) mean(x.data(:));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;I = imread(&lt;span class=&quot;string&quot;&gt;&#39;pears.png&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;I2 = blockproc(I,[&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;],fun);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;figure;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;imshow(I);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;figure;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;imshow(I2);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;3-向量化编程的利器-bsxfun&quot;&gt;&lt;a href=&quot;#3-向量化编程的利器-bsxfun&quot; class=&quot;headerlink&quot; title=&quot;3. 向量化编程的利器 bsxfun&quot;&gt;&lt;/a&gt;3. 向量化编程的利器 bsxfun&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;函数语法：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; C = bsxfun(fun, A, B)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;函数功能：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 将两个矩阵中对应位置的元素应用fun函数处理，fun可以是系统内建的函数，注意：不能使用符号如”+”、”-“等，而应使用对应的函数句柄”@plus”、”@minus”，具体参看MATLAB帮助&lt;code&gt;doc bsxfun&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;如果A、B两个矩阵一样大，可以直接使用&lt;code&gt;A+B&lt;/code&gt;的方式来实现，但当A或B中有任何一维的长度是1时，函数会自动将该为扩展为和另一个矩阵对应维度的长度，并且，这样的扩展是虚拟的，会比使用&lt;code&gt;repmat&lt;/code&gt;效率要高，占用内存也少。&lt;br&gt;&lt;figure class=&quot;highlight matlab&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt; a = [&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;a =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt; b = [&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;; &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;; &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;b =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt; c = &lt;span class=&quot;built_in&quot;&gt;bsxfun&lt;/span&gt;(@plus, a, b)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;c =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在解决下面的示例问题中，对比使用for循环与bsxfun运行效率：&lt;br&gt;有A，B两个矩阵，在这两个矩阵中，每行都代表一个样本，每列都表示一个特征，计算其高斯核&lt;br&gt;$$k(||x-xc||) = exp(-\frac{||x - xc||^2}{2\sigma^2})$$&lt;/p&gt;
&lt;figure class=&quot;highlight matlab&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;A = &lt;span class=&quot;built_in&quot;&gt;rand&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;2000&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B = &lt;span class=&quot;built_in&quot;&gt;rand&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;3000&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;beta&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;0.5&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tic&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;% 使用for版本&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;K1 = &lt;span class=&quot;built_in&quot;&gt;zeros&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;(A,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;), &lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;(B,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;i&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; : &lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;(A, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;j&lt;/span&gt; = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; : &lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;(B, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        K1(&lt;span class=&quot;built_in&quot;&gt;i&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;j&lt;/span&gt;) = &lt;span class=&quot;built_in&quot;&gt;exp&lt;/span&gt;(-sum((A(&lt;span class=&quot;built_in&quot;&gt;i&lt;/span&gt;,:)-B(&lt;span class=&quot;built_in&quot;&gt;j&lt;/span&gt;,:)).^&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;)/&lt;span class=&quot;built_in&quot;&gt;beta&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;toc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;% 使用bsxfun版本&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tic;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sA = (sum(A.^&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sB = (sum(B.^&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;K3 = &lt;span class=&quot;built_in&quot;&gt;exp&lt;/span&gt;(&lt;span class=&quot;built_in&quot;&gt;bsxfun&lt;/span&gt;(@minus,&lt;span class=&quot;built_in&quot;&gt;bsxfun&lt;/span&gt;(@minus,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;*A*B&#39;, sA), sB&#39;)/&lt;span class=&quot;built_in&quot;&gt;beta&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;toc;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;在我的电脑上，运行上述程序for版本耗时185.981322s，bsxfun版本的耗时0.542689s，bsxfun版本比for版本效率提升了超过300倍。&lt;/p&gt;
&lt;p&gt;插曲：在实现bsxfun版本时，我最开始是用下面的这种方法&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rowNum = size(A, 2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;K2 = exp(-sum(bsxfun(@minus, reshape(A, [], 1, rowNum), reshape(B, 1, [], rowNum)).^2, 3) / beta);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;最后还出现内存不足，电脑卡死的状况。后来分析发现，我的这种方法是先把2维矩阵扩展成3维对应相减，然后再把结果求平方再求和，虽说bsxfun会在扩展矩阵的时候做优化，但结束之后返回的三维矩阵也非常非常大，耗尽内存。&lt;/p&gt;
&lt;h2 id=&quot;4-arrayfun&quot;&gt;&lt;a href=&quot;#4-arrayfun&quot; class=&quot;headerlink&quot; title=&quot;4. arrayfun&quot;&gt;&lt;/a&gt;4. arrayfun&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;函数语法：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; [B1,…,Bm] = arrayfun(func,A1,…,An)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; [B1,…,Bm] = arrayfun(func,A1,…,An,Name,Value)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;函数功能：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 使用函数处理数组中每个元素，可以传入多个矩阵，则将多个矩阵同一位置的元素作为参数传入函数fun中处理。&lt;/p&gt;
&lt;p&gt;示例程序：&lt;br&gt;&lt;figure class=&quot;highlight matlab&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt; s(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;).f1 = &lt;span class=&quot;built_in&quot;&gt;rand&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt; s(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;).f1 = &lt;span class=&quot;built_in&quot;&gt;magic&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt; s(&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;).f1 = &lt;span class=&quot;built_in&quot;&gt;ones&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt; counts = arrayfun(@(x) &lt;span class=&quot;built_in&quot;&gt;numel&lt;/span&gt;(x.f1), s) &lt;span class=&quot;comment&quot;&gt;% 计算每个元素的f1属性中元素个数&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;counts =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;18&lt;/span&gt;   &lt;span class=&quot;number&quot;&gt;144&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt; [nrows, ncols] = arrayfun(@(x) &lt;span class=&quot;built_in&quot;&gt;size&lt;/span&gt;(x.f1), s)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nrows =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;     &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ncols =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;12&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;A =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;0.1662&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.7518&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.2118&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;0.0817&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.5420&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.9325&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;0.9440&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.7209&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.7581&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;B =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;0.0392&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.2084&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.6986&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;0.1176&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.4304&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.7956&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;0.4965&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.9252&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.3083&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;gt;&amp;gt; counts = arrayfun(@(x, y) x + y, A, B)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;counts =&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;0.2054&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.9602&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.9104&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;0.1993&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;0.9724&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;1.7280&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;number&quot;&gt;1.4405&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;1.6461&lt;/span&gt;    &lt;span class=&quot;number&quot;&gt;1.0664&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;5-cellfun&quot;&gt;&lt;a href=&quot;#5-cellfun&quot; class=&quot;headerlink&quot; title=&quot;5. cellfun&quot;&gt;&lt;/a&gt;5. cellfun&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;函数语法：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; [A1,…,Am] = cellfun(func,C1,…,Cn)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; [A1,…,Am] = cellfun(func,C1,…,Cn,Name,Value)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;函数功能：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 使用函数处理cell中的数据。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cellfun&lt;/code&gt;函数的用法与&lt;code&gt;arrayfun&lt;/code&gt;函数的用法类似，除了前者是用于处理cell，后者是用于处理矩阵。&lt;br&gt;示例程序参考MATLAB的帮助&lt;code&gt;doc cellfun&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id=&quot;6-spfun&quot;&gt;&lt;a href=&quot;#6-spfun&quot; class=&quot;headerlink&quot; title=&quot;6. spfun&quot;&gt;&lt;/a&gt;6. spfun&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;函数语法：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; f = spfun(fun,S)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;函数功能：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 对稀疏矩阵中的所有非零元素调用函数处理。&lt;/p&gt;
&lt;p&gt;示例程序参考MATLAB的帮助&lt;code&gt;doc spfun&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id=&quot;7-structfun&quot;&gt;&lt;a href=&quot;#7-structfun&quot; class=&quot;headerlink&quot; title=&quot;7. structfun&quot;&gt;&lt;/a&gt;7. structfun&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;函数语法：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; [A1,…,An] = structfun(func,S)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; [A1,…,An] = structfun(func,S,Name,Value)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;函数功能：&lt;/strong&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 对结构体重所有元素调用函数处理。&lt;/p&gt;
&lt;p&gt;示例程序参考MATLAB的帮助&lt;code&gt;doc structfun&lt;/code&gt;。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;看到太多的人把MATLAB当成C语言来写，甚至像矩阵求和这种的，都要写个for循环来做，不仅整个程序看起来很乱，而且不管开发效率还是程序执行效率都降低了太多。我在研一学人工神经网络这门课程的时候，就有看过别人写的一些MATLAB程序，用矩阵的一些操作代替了for循环，程序看起来简洁干净，效率也有提高。&lt;br&gt;这篇文章接下来会介绍几个函数，能把原来需要用for循环来处理矩阵的，通过自带函数替换掉for循环。用这些函数的好处是代码会简洁很多，同时MATLAB也会优化操作过程，提高效率。&lt;/p&gt;
    
    </summary>
    
    
      <category term="MATLAB" scheme="http://blog.pfchai.com/tags/MATLAB/"/>
    
      <category term="编码" scheme="http://blog.pfchai.com/tags/%E7%BC%96%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>Clojure 开发环境搭建</title>
    <link href="http://blog.pfchai.com/2016/06/Clojure-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <id>http://blog.pfchai.com/2016/06/Clojure-开发环境搭建/</id>
    <published>2016-06-19T15:45:01.000Z</published>
    <updated>2016-06-19T15:47:07.191Z</updated>
    
    <content type="html">&lt;p&gt;一直想要学习一门Lisp方言，想了解被很多大牛推荐的函数式编程（FP），自己却不清楚要从哪开始。直到在图书馆无意中看到一本讲Clojure的书，好奇就借了随便翻翻，很巧的是同时顺手借的《七周七并发模型》里面也差不多有一半都是用Clojure举的例子，也算是缘分吧，就开始看Clojure。&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;Windows-环境下安装Clojure&quot;&gt;&lt;a href=&quot;#Windows-环境下安装Clojure&quot; class=&quot;headerlink&quot; title=&quot;Windows 环境下安装Clojure&quot;&gt;&lt;/a&gt;Windows 环境下安装Clojure&lt;/h2&gt;&lt;h3 id=&quot;1-Java环境&quot;&gt;&lt;a href=&quot;#1-Java环境&quot; class=&quot;headerlink&quot; title=&quot;1. Java环境&quot;&gt;&lt;/a&gt;1. Java环境&lt;/h3&gt;&lt;p&gt;Clojure是运行在Java虚拟机（JVM，Java Virtual Machine）上的动态编程语言，想要运行Clojure，首先要确保正确安装Java，在命令行中，输入&lt;code&gt;java -version&lt;/code&gt;，如果出现类似下面的内容，说明本机以及安装好了Java。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;C:\Users\pfchai&amp;gt;java -version&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;java version &amp;quot;1.8.0_91&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Java(TM) SE Runtime Environment (build 1.8.0_91-b15)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Java HotSpot(TM) 64-Bit Server VM (build 25.91-b15, mixed mode)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;否则，请先确保&lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载JDK&lt;/a&gt;安装JDK并检查环境变量是否配置正确。&lt;/p&gt;
&lt;h3 id=&quot;2-安装Clojure&quot;&gt;&lt;a href=&quot;#2-安装Clojure&quot; class=&quot;headerlink&quot; title=&quot;2. 安装Clojure&quot;&gt;&lt;/a&gt;2. 安装Clojure&lt;/h3&gt;&lt;p&gt;在Clojure&lt;a href=&quot;http://clojure.org/community/downloads&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官方网站&lt;/a&gt;下载Clojure，解压到安装目录中即可。&lt;/p&gt;
&lt;h3 id=&quot;3-REPL中运行clojure&quot;&gt;&lt;a href=&quot;#3-REPL中运行clojure&quot; class=&quot;headerlink&quot; title=&quot;3. REPL中运行clojure&quot;&gt;&lt;/a&gt;3. REPL中运行clojure&lt;/h3&gt;&lt;p&gt;在解压的Clojure目录中运行，即可进入REPL&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;java -cp clojure-1.8.0.jar clojure.main&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Clojure 1.8.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;user=&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;注意，将上述命令中&lt;code&gt;clojure-1.8.0.jar&lt;/code&gt;改为Clojure解压目录中对应的jar文件。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;user=&amp;gt; (+ 1 2 3)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;user=&amp;gt; (javax.swing.JOptionPane/showMessageDialog nil &amp;quot;Hello World&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;4-安装Leiningen&quot;&gt;&lt;a href=&quot;#4-安装Leiningen&quot; class=&quot;headerlink&quot; title=&quot;4. 安装Leiningen&quot;&gt;&lt;/a&gt;4. 安装Leiningen&lt;/h3&gt;&lt;p&gt;Leiningen可以帮你建立、构建、测试、打包和部署Clojure工程。也就是说，它能为你提供工程管理方面的一站式服务。&lt;br&gt;Maven是一个流行的Java依赖关系管理工具，而Leiningen就相当于Clojure中的Maven。并且，Leiningen与Maven兼容，因此它可以毫无障碍地访问那些得到精心维护，存放着海量Java类库的存储中心。&lt;/p&gt;
&lt;p&gt;Windows中安装Leiningen很简单，只需要&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;从&lt;a href=&quot;http://leiningen.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官方主页&lt;/a&gt;下载&lt;a href=&quot;https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein.bat&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;lein.bat&lt;/a&gt;; &lt;/li&gt;
&lt;li&gt;将lein.bat放在PATH变量中任意目录中，保证可以直接在命令窗口中直接执行它;&lt;/li&gt;
&lt;li&gt;在命令窗口运行&lt;code&gt;lein&lt;/code&gt;，lein会自动下载安装包完成安装。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;还有一种更简单的方式是下载&lt;a href=&quot;http://leiningen-win-installer.djpowell.net/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;二进制安装文件&lt;/a&gt;，像安装普通软件一样安装即可。&lt;/p&gt;
&lt;p&gt;先在，可以用更简单的方式启动REPL&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;C:\Users\pfchai&amp;gt;lein repl&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nREPL server started on port 63658 on host 127.0.0.1 - n&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;REPL-y 0.3.7, nREPL 0.2.12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Clojure 1.8.0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Java HotSpot(TM) 64-Bit Server VM 1.8.0_91-b15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Docs: (doc function-name-here)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          (find-doc &amp;quot;part-of-name-here&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Source: (source function-name-here)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; Javadoc: (javadoc java-object-or-class-here)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Exit: Control+D or (exit) or (quit)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; Results: Stored in vars *1, *2, *3, an exception in *e&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;user=&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;使用Leiningen创建一个Clojure项目：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;lein new example&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;更多关于Leiningen的介绍，可以参考&lt;a href=&quot;http://wiki.fnil.net/index.php?title=Leiningen_tutorial%E4%B8%AD%E6%96%87%E7%89%88&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这个&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;5-编写Clojure相关的IDE及插件&quot;&gt;&lt;a href=&quot;#5-编写Clojure相关的IDE及插件&quot; class=&quot;headerlink&quot; title=&quot;5. 编写Clojure相关的IDE及插件&quot;&gt;&lt;/a&gt;5. 编写Clojure相关的IDE及插件&lt;/h3&gt;&lt;h4 id=&quot;1-Eclipse&quot;&gt;&lt;a href=&quot;#1-Eclipse&quot; class=&quot;headerlink&quot; title=&quot;1. Eclipse&quot;&gt;&lt;/a&gt;1. Eclipse&lt;/h4&gt;&lt;p&gt;Counterclockwise插件&lt;/p&gt;
&lt;h4 id=&quot;2-Emacs&quot;&gt;&lt;a href=&quot;#2-Emacs&quot; class=&quot;headerlink&quot; title=&quot;2. Emacs&quot;&gt;&lt;/a&gt;2. Emacs&lt;/h4&gt;&lt;p&gt;clojure-mode - 提供Clojure编辑支持&lt;br&gt;nREPL - 提供用于网络REPL服务的Emacs客户端&lt;/p&gt;
&lt;h4 id=&quot;3-Cursive&quot;&gt;&lt;a href=&quot;#3-Cursive&quot; class=&quot;headerlink&quot; title=&quot;3. Cursive&quot;&gt;&lt;/a&gt;3. Cursive&lt;/h4&gt;&lt;p&gt;基于IntelliJ平台的IDE，可以在IntelliJ中安装Cursive插件&lt;/p&gt;
&lt;h4 id=&quot;4-VimClojure&quot;&gt;&lt;a href=&quot;#4-VimClojure&quot; class=&quot;headerlink&quot; title=&quot;4. VimClojure&quot;&gt;&lt;/a&gt;4. VimClojure&lt;/h4&gt;&lt;p&gt;Vim的插件&lt;/p&gt;
&lt;h4 id=&quot;5-Light-Table&quot;&gt;&lt;a href=&quot;#5-Light-Table&quot; class=&quot;headerlink&quot; title=&quot;5. Light Table&quot;&gt;&lt;/a&gt;5. Light Table&lt;/h4&gt;&lt;p&gt;Light Table是由Microsoft Visual Studio部门项目经理Chris Granger离职后开发的全新理念的IDE，支持多种语言，比如Python、Clojure、JavaScript等。Light Table是一个很简单的概念：我们需要真正的工作面板，不只是编辑器和项目管理器。我们可以把东西尽量整洁地堆在这里，需要的时候可以把资料直接拿出来看。&lt;br&gt;Light Table的代码全部托管在GitHub上，遵循GNU开源许可。&lt;/p&gt;
&lt;h2 id=&quot;Ubuntu-中安装Clojure&quot;&gt;&lt;a href=&quot;#Ubuntu-中安装Clojure&quot; class=&quot;headerlink&quot; title=&quot;Ubuntu 中安装Clojure&quot;&gt;&lt;/a&gt;Ubuntu 中安装Clojure&lt;/h2&gt;&lt;h3 id=&quot;1-安装Clojure&quot;&gt;&lt;a href=&quot;#1-安装Clojure&quot; class=&quot;headerlink&quot; title=&quot;1. 安装Clojure&quot;&gt;&lt;/a&gt;1. 安装Clojure&lt;/h3&gt;&lt;p&gt;在Ubuntu中安装很简单，首先确保正确安装JDK。在shell中输入&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install clojure&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;即可。&lt;/p&gt;
&lt;h3 id=&quot;2-安装-Leiningen&quot;&gt;&lt;a href=&quot;#2-安装-Leiningen&quot; class=&quot;headerlink&quot; title=&quot;2. 安装 Leiningen&quot;&gt;&lt;/a&gt;2. 安装 Leiningen&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;下载&lt;a href=&quot;https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;lein script&lt;/a&gt;；&lt;/li&gt;
&lt;li&gt;将lein script放入$PATH中，如&lt;code&gt;~/bin&lt;/code&gt;中；&lt;/li&gt;
&lt;li&gt;给lein script增加可执行权限（&lt;code&gt;chmod a+x ~/bin/lein&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;运行&lt;code&gt;lein&lt;/code&gt;，将会自动下载安装依赖的文件&lt;/li&gt;
&lt;/ol&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;一直想要学习一门Lisp方言，想了解被很多大牛推荐的函数式编程（FP），自己却不清楚要从哪开始。直到在图书馆无意中看到一本讲Clojure的书，好奇就借了随便翻翻，很巧的是同时顺手借的《七周七并发模型》里面也差不多有一半都是用Clojure举的例子，也算是缘分吧，就开始看Clojure。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Clojure" scheme="http://blog.pfchai.com/tags/Clojure/"/>
    
      <category term="Lisp" scheme="http://blog.pfchai.com/tags/Lisp/"/>
    
      <category term="FP" scheme="http://blog.pfchai.com/tags/FP/"/>
    
      <category term="开发环境" scheme="http://blog.pfchai.com/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    
  </entry>
  
  <entry>
    <title>Bottle 源码学习</title>
    <link href="http://blog.pfchai.com/2016/06/Bottle-%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/"/>
    <id>http://blog.pfchai.com/2016/06/Bottle-源码学习/</id>
    <published>2016-06-16T14:34:14.000Z</published>
    <updated>2016-06-16T14:36:29.323Z</updated>
    
    <content type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/bottlepy/bottle&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Bottle&lt;/a&gt;是一个快速、简单、轻量级的WSGI微框架，整个项目只有一个文件，并且，除了Python标准库以外，Bottle不依赖其他第三方库。&lt;/p&gt;
&lt;p&gt;为了对Bottle项目有个大致的了解，我们选择&lt;code&gt;0.4.10&lt;/code&gt;版本研究，这个版本中，Bottle代码量不超过1000行，基本功能都已经实现并且研究起来也会容易些。下面的内容，如果没有特殊说明，都是指&lt;code&gt;0.4.10&lt;/code&gt;版本的源码。&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;准备&quot;&gt;&lt;a href=&quot;#准备&quot; class=&quot;headerlink&quot; title=&quot;准备&quot;&gt;&lt;/a&gt;准备&lt;/h2&gt;&lt;p&gt;先从Github上下载&lt;a href=&quot;https://github.com/bottlepy/bottle&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Bottle&lt;/a&gt;的源码&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git clone https://github.com/bottlepy/bottle.git&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;下载完以后，进入bottle项目目录，同时切换到&lt;code&gt;0.4.10&lt;/code&gt;版本&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cd bottle&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git checkout -b 0.4.10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;此时，&lt;code&gt;bottle.py&lt;/code&gt;就是我们要研究的代码了。&lt;/p&gt;
&lt;h2 id=&quot;Bottle-示例程序&quot;&gt;&lt;a href=&quot;#Bottle-示例程序&quot; class=&quot;headerlink&quot; title=&quot;Bottle 示例程序&quot;&gt;&lt;/a&gt;Bottle 示例程序&lt;/h2&gt;&lt;p&gt;想要研究源码，必然要先让程序跑起来，看看程序的大概过程是怎么样的。&lt;/p&gt;
&lt;p&gt;在Bottle项目中新建&lt;code&gt;demo.py&lt;/code&gt;，写入&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;from bottle import route, run, request, send_file, template&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@route(&amp;apos;/&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def hello_world():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return &amp;apos;Hello World!&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@route(&amp;apos;/hello/:name&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def hello_name(name):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return &amp;apos;Hello %s!&amp;apos; % name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@route(&amp;apos;/hello&amp;apos;, method=&amp;apos;POST&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def hello_post():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    name = request.POST[&amp;apos;name&amp;apos;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return &amp;apos;Hello %s!&amp;apos; % name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@route(&amp;apos;/static/:filename#.*#&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def static_file(filename):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    send_file(filename, root=&amp;apos;/path/to/static/files/&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@route(&amp;apos;/template/test&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def template_test():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return template(&amp;apos;index&amp;apos;, title=&amp;apos;Template Test&amp;apos;, items=[1,2,3,&amp;apos;fly&amp;apos;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;run(host=&amp;apos;localhost&amp;apos;, port=8080)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;新建模板文件&lt;code&gt;index.tpl&lt;/code&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;%message = &amp;apos;Hello world!&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;head&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;title&amp;gt;&amp;#123;&amp;#123;title.title()&amp;#125;&amp;#125;&amp;lt;/title&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;/head&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;body&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;h1&amp;gt;&amp;#123;&amp;#123;title.title()&amp;#125;&amp;#125;&amp;lt;/h1&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;p&amp;gt;&amp;#123;&amp;#123;message&amp;#125;&amp;#125;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;p&amp;gt;Items in list: &amp;#123;&amp;#123;len(items)&amp;#125;&amp;#125;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;ul&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    %for item in items:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;lt;li&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      %if isinstance(item, int):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Zahl: &amp;#123;&amp;#123;item&amp;#125;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      %else:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        %try:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          Other type: (&amp;#123;&amp;#123;type(item).__name__&amp;#125;&amp;#125;) &amp;#123;&amp;#123;repr(item)&amp;#125;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        %except:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          Error: Item has no string representation.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        %end try-block (yes, you may add comments here)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      %end&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;lt;/li&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    %end&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;/ul&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;/body&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;运行只需要执行即可&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;python demo.py&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;主程序&quot;&gt;&lt;a href=&quot;#主程序&quot; class=&quot;headerlink&quot; title=&quot;主程序&quot;&gt;&lt;/a&gt;主程序&lt;/h2&gt;&lt;p&gt;Bottle是在Python自带的wsgiref的基础上做了一层包装，主要重心放在处理路由、模板、数据库等部分，具体涉及到网络的部分则交给wsgiref处理。&lt;/p&gt;
&lt;p&gt;主程序部分逻辑很简单，判断server是否是ServerAdapter的子类，如果是，则交给server类处理。在server类的run方法中，传入具体处理函数WSGIHandler。WSGIHandler会根据请求的路径再交给相应的函数来处理各个请求。&lt;/p&gt;
&lt;p&gt;下面是Bottle这部分源码&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;def run(server=WSGIRefServer, host=&amp;apos;127.0.0.1&amp;apos;, port=8080, optinmize = False, **kargs):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;&amp;quot;&amp;quot; Runs bottle as a web server, using Python&amp;apos;s built-in wsgiref implementation by default.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    You may choose between WSGIRefServer, CherryPyServer, FlupServer and&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    PasteServer or write your own server adapter.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    global OPTIMIZER&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    OPTIMIZER = bool(optinmize)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    quiet = bool(&amp;apos;quiet&amp;apos; in kargs and kargs[&amp;apos;quiet&amp;apos;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    # Instanciate server, if it is a class instead of an instance&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if isinstance(server, type) and issubclass(server, ServerAdapter):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        server = server(host=host, port=port, **kargs)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if not isinstance(server, ServerAdapter):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        raise RuntimeError(&amp;quot;Server must be a subclass of ServerAdapter&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if not quiet:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print &amp;apos;Bottle server starting up (using %s)...&amp;apos; % repr(server)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print &amp;apos;Listening on http://%s:%d/&amp;apos; % (server.host, server.port)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print &amp;apos;Use Ctrl-C to quit.&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    try:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        server.run(WSGIHandler)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    except KeyboardInterrupt:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        print &amp;quot;Shuting down...&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;路由&quot;&gt;&lt;a href=&quot;#路由&quot; class=&quot;headerlink&quot; title=&quot;路由&quot;&gt;&lt;/a&gt;路由&lt;/h2&gt;&lt;p&gt;Bottle中，添加一条路由规则很简单，只需要在对应该路由规则的处理函数上面加上一个&lt;code&gt;@route&lt;/code&gt;装饰器即可，如：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@route(&amp;apos;/sayhi&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def hello_world():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return &amp;apos;Hello World!&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;表示，所有请求&lt;code&gt;/sayhi&lt;/code&gt;的都是函数hello_world来处理。并且，Bottle支持动态路由，下面的示例展示了在Bottle中使用动态路由：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@route(&amp;apos;/hello/:name&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;def hello(name = &amp;apos;World&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return &amp;apos;Hello &amp;#123;&amp;#125;!&amp;apos;.format(name)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;当请求为&lt;code&gt;/hello/pfchai&lt;/code&gt;时，会返回一个包含’Hello pfchai’页面。&lt;/p&gt;
&lt;p&gt;Bottle中，装饰器&lt;code&gt;route&lt;/code&gt;源码如下，作用就是把路由与该路由对应的处理函数添加到路由处理列表中。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;def route(url, **kargs):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;&amp;quot;&amp;quot; Decorator for request handler. Same as add_route(url, handler).&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    def wrapper(handler):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        add_route(url, handler, **kargs)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return handler&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return wrapper&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其中，add_route函数源码为：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;def add_route(route, handler, method=&amp;apos;GET&amp;apos;, simple=False):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;&amp;quot;&amp;quot; Adds a new route to the route mappings.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Example:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        def hello():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          return &amp;quot;Hello world!&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        add_route(r&amp;apos;/hello&amp;apos;, hello)&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    method = method.strip().upper()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if re.match(r&amp;apos;^/(\w+/)*\w*$&amp;apos;, route) or simple:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ROUTES_SIMPLE.setdefault(method, &amp;#123;&amp;#125;)[route] = handler&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    else:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        route = compile_route(route)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        ROUTES_REGEXP.setdefault(method, []).append([route, handler])&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果是简单路由规则，将该规则添加到ROUTES_SIMPLE中，动态路由则添加到ROUTES_REGEXP中&lt;/p&gt;
&lt;h2 id=&quot;模板&quot;&gt;&lt;a href=&quot;#模板&quot; class=&quot;headerlink&quot; title=&quot;模板&quot;&gt;&lt;/a&gt;模板&lt;/h2&gt;&lt;h3 id=&quot;BaseTemplate类&quot;&gt;&lt;a href=&quot;#BaseTemplate类&quot; class=&quot;headerlink&quot; title=&quot;BaseTemplate类&quot;&gt;&lt;/a&gt;BaseTemplate类&lt;/h3&gt;&lt;p&gt;BaseTemplate类的源码&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;class BaseTemplate(object):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    def __init__(self, template=&amp;apos;&amp;apos;, filename=&amp;apos;&amp;lt;template&amp;gt;&amp;apos;):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        self.source = filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if self.source != &amp;apos;&amp;lt;template&amp;gt;&amp;apos;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            fp = open(filename)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            template = fp.read()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            fp.close()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        self.parse(template)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    def parse(self, template): raise NotImplementedError&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    def render(self, **args): raise NotImplementedError&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    @classmethod&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    def find(cls, name):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        files = [path % name for path in TEMPLATE_PATH if os.path.isfile(path % name)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if files:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            return cls(filename = files[0])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        else:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            raise TemplateError(&amp;apos;Template not found: %s&amp;apos; % repr(name))&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Bottle中模板类都是继承BaseTemplate类，BaseTemplate类是一个抽象类，子类必须实现parse和render方法。BaseTemplate类中各个方法的意义：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;parse：解析模板文件中的Python语句&lt;/li&gt;
&lt;li&gt;render：将模板文件渲染成html页面&lt;/li&gt;
&lt;li&gt;find：类方法，查找模板文件&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;SimpleTemplate类&quot;&gt;&lt;a href=&quot;#SimpleTemplate类&quot; class=&quot;headerlink&quot; title=&quot;SimpleTemplate类&quot;&gt;&lt;/a&gt;SimpleTemplate类&lt;/h3&gt;&lt;p&gt;SimpleTemplate类的源码：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;class SimpleTemplate(BaseTemplate):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    re_python = re.compile(r&amp;apos;^\s*%\s*(?:(if|elif|else|try|except|finally|for|while|with|def|class)|(include.*)|(end.*)|(.*))&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    re_inline = re.compile(r&amp;apos;\&amp;#123;\&amp;#123;(.*?)\&amp;#125;\&amp;#125;&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    dedent_keywords = (&amp;apos;elif&amp;apos;, &amp;apos;else&amp;apos;, &amp;apos;except&amp;apos;, &amp;apos;finally&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    def parse(self, template):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        indent = 0&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        strbuffer = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        code = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        self.subtemplates = &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        class PyStmt(str):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            def __repr__(self): return &amp;apos;str(&amp;apos; + self + &amp;apos;)&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        def flush():&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if len(strbuffer):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                code.append(&amp;quot; &amp;quot; * indent + &amp;quot;stdout.append(%s)&amp;quot; % repr(&amp;apos;&amp;apos;.join(strbuffer)))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                code.append(&amp;quot;\n&amp;quot; * len(strbuffer)) # to preserve line numbers &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                del strbuffer[:]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        for line in template.splitlines(True):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            m = self.re_python.match(line)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            if m:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                flush()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                keyword, include, end, statement = m.groups()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if keyword:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    if keyword in self.dedent_keywords:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        indent -= 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    code.append(&amp;quot; &amp;quot; * indent + line[m.start(1):])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    indent += 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                elif include:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    tmp = line[m.end(2):].strip().split(None, 1)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    name = tmp[0]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    args = tmp[1:] and tmp[1] or &amp;apos;&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    self.subtemplates[name] = SimpleTemplate.find(name)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    code.append(&amp;quot; &amp;quot; * indent + &amp;quot;stdout.append(_subtemplates[%s].render(%s))\n&amp;quot; % (repr(name), args))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                elif end:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    indent -= 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    code.append(&amp;quot; &amp;quot; * indent + &amp;apos;#&amp;apos; + line[m.start(3):])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                elif statement:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    code.append(&amp;quot; &amp;quot; * indent + line[m.start(4):])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            else:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                splits = self.re_inline.split(line) # text, (expr, text)*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                if len(splits) == 1:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    strbuffer.append(line)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                else:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    flush()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    for i in xrange(1, len(splits), 2):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                        splits[i] = PyStmt(splits[i])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    code.append(&amp;quot; &amp;quot; * indent + &amp;quot;stdout.extend(%s)\n&amp;quot; % repr(splits))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        flush()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        self.co = compile(&amp;quot;&amp;quot;.join(code), self.source, &amp;apos;exec&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    def render(self, **args):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;apos;&amp;apos;&amp;apos; Returns the rendered template using keyword arguments as local variables. &amp;apos;&amp;apos;&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        args[&amp;apos;stdout&amp;apos;] = []&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        args[&amp;apos;_subtemplates&amp;apos;] = self.subtemplates&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        eval(self.co, args, globals())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return &amp;apos;&amp;apos;.join(args[&amp;apos;stdout&amp;apos;])&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;SimpleTemplate类中，parse方法会首先通过正则把模板内容转换为Python字符串代码，然后再使用compile函数将代码编译成字节码，在调用render方法时，字节码被执行，渲染为包含数据的html页面。&lt;/p&gt;
&lt;h3 id=&quot;全局函数template&quot;&gt;&lt;a href=&quot;#全局函数template&quot; class=&quot;headerlink&quot; title=&quot;全局函数template&quot;&gt;&lt;/a&gt;全局函数template&lt;/h3&gt;&lt;p&gt;template函数源码&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;def template(template, template_adapter=SimpleTemplate, **args):&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;apos;&amp;apos;&amp;apos; Returns a string from a template &amp;apos;&amp;apos;&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if template not in TEMPLATES:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if template.find(&amp;quot;\n&amp;quot;) == -1 and template.find(&amp;quot;&amp;#123;&amp;quot;) == -1 and template.find(&amp;quot;%&amp;quot;) == -1:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            try:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                TEMPLATES[template] = template_adapter.find(template)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            except TemplateNotFoundError: pass&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        else:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            TEMPLATES[template] = template_adapter(template)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if template not in TEMPLATES:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        abort(500, &amp;apos;Template not found&amp;apos;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    args[&amp;apos;abort&amp;apos;] = abort&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    args[&amp;apos;request&amp;apos;] = request&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    args[&amp;apos;response&amp;apos;] = response&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    return TEMPLATES[template].render(**args)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;template函数根据不同的模板渲染解析引擎，将模板文件渲染成html页面。在template中，每个模板会生成一个模板解析引擎对象，并放在全局变量TEMPLATES中，如果该模板的对象已经存在，直接调用该对象的render方法，如果不存在，创建一个并放入TEMPLATES中，执行render方法。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/bottlepy/bottle&quot;&gt;Bottle&lt;/a&gt;是一个快速、简单、轻量级的WSGI微框架，整个项目只有一个文件，并且，除了Python标准库以外，Bottle不依赖其他第三方库。&lt;/p&gt;
&lt;p&gt;为了对Bottle项目有个大致的了解，我们选择&lt;code&gt;0.4.10&lt;/code&gt;版本研究，这个版本中，Bottle代码量不超过1000行，基本功能都已经实现并且研究起来也会容易些。下面的内容，如果没有特殊说明，都是指&lt;code&gt;0.4.10&lt;/code&gt;版本的源码。&lt;/p&gt;
    
    </summary>
    
    
      <category term="源码" scheme="http://blog.pfchai.com/tags/%E6%BA%90%E7%A0%81/"/>
    
      <category term="Python" scheme="http://blog.pfchai.com/tags/Python/"/>
    
      <category term="Bottle" scheme="http://blog.pfchai.com/tags/Bottle/"/>
    
  </entry>
  
  <entry>
    <title>多说评论添加显示浏览器以及操作系统信息</title>
    <link href="http://blog.pfchai.com/2016/06/%E5%A4%9A%E8%AF%B4%E8%AF%84%E8%AE%BA%E6%B7%BB%E5%8A%A0%E6%98%BE%E7%A4%BA%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BB%A5%E5%8F%8A%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF/"/>
    <id>http://blog.pfchai.com/2016/06/多说评论添加显示浏览器以及操作系统信息/</id>
    <published>2016-06-16T11:46:16.000Z</published>
    <updated>2016-06-16T11:58:25.855Z</updated>
    
    <content type="html">&lt;p&gt;想要在多说评论中显示浏览器以及操作系统信息，第一步当然是获取信息，这部分的处理放在多说的embed.js文件中，还有一部分是显示浏览器以及操作系统信息，这部分在多说系统中添加自定义的CSS来实现。&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;自定义embed-js&quot;&gt;&lt;a href=&quot;#自定义embed-js&quot; class=&quot;headerlink&quot; title=&quot;自定义embed.js&quot;&gt;&lt;/a&gt;自定义embed.js&lt;/h2&gt;&lt;p&gt;多说默认用到的embed.js是从多说官方提供的，地址是&lt;a href=&quot;http://static.duoshuo.com/embed.js&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://static.duoshuo.com/embed.js&lt;/a&gt;&lt;br&gt;这里，我们需要修改embed.js文件，所以，先把官方提供的embed.js文件下载下来，在embed.js文件中增加检测浏览器和操作信息的代码，在embed.js文件顶部添加&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//移动客户端判断开始，作用：在移动客户端显示不同样式&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sskcheckMobile&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isiPad = navigator.userAgent.match(&lt;span class=&quot;regexp&quot;&gt;/iPad/i&lt;/span&gt;) != &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(isiPad)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; isMobile=navigator.userAgent.match(&lt;span class=&quot;regexp&quot;&gt;/iphone|android|phone|mobile|wap|netfront|x11|java|opera mobi|opera mini|ucweb|windows ce|symbian|symbianos|series|webos|sony|blackberry|dopod|nokia|samsung|palmsource|xda|pieplus|meizu|midp|cldc|motorola|foma|docomo|up.browser|up.link|blazer|helio|hosin|huawei|novarra|coolpad|webos|techfaith|palmsource|alcatel|amoi|ktouch|nexian|ericsson|philips|sagem|wellcom|bunjalloo|maui|smartphone|iemobile|spice|bird|zte-|longcos|pantech|gionee|portalmmm|jig browser|hiptop|benq|haier|^lct|320x320|240x320|176x220/i&lt;/span&gt;)!= &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(isMobile)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//移动客户端判断结束&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//显UA开始&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sskua&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; outputer = &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/FireFox\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_firefox&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; Mozilla FireFox&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/Maxthon([\d]*)\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_maxthon&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; Maxthon&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/BIDUBrowser([\d]*)\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_ucweb&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; 百度浏览器&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/UBrowser([\d]*)\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_ucweb&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; UCBrowser&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/UCBrowser([\d]*)\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_ucweb&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; UCBrowser&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/MetaSr/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_sogou&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; 搜狗浏览器&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/2345Explorer/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_2345explorer&quot;&amp;gt;&amp;lt;a href=&quot;http://ssk.91txh.com/2345download.php?id=2&quot; target=&quot;_blank&quot; style=&quot;color:#FFFFFF!important;&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; 2345王牌浏览器&amp;lt;/a&amp;gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/2345chrome/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_2345chrome&quot;&amp;gt;&amp;lt;a href=&quot;http://ssk.91txh.com/2345download.php?id=3&quot; target=&quot;_blank&quot; style=&quot;color:#FFFFFF!important;&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; 2345加速浏览器&amp;lt;/a&amp;gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/LBBROWSER/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_lbbrowser&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; 猎豹安全浏览器&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/MicroMessenger\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_qq&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-weixin&quot;&amp;gt;&amp;lt;/i&amp;gt; 微信&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;/*.split(&#39;/&#39;)[0]*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/QQBrowser\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_qq&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; QQ浏览器&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;/*.split(&#39;/&#39;)[0]*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/QQ\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_qq&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; QQ浏览器&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;/*.split(&#39;/&#39;)[0]*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/MiuiBrowser\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_mi&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; Miui浏览器&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;/*.split(&#39;/&#39;)[0]*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/Edge([\d]*)\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_ie&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; Edge&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;/*.split(&#39;.&#39;)[0]*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/Chrome([\d]*)\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_chrome&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; Chrome&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;/*.split(&#39;.&#39;)[0]*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/safari\/([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_apple&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; Apple Safari&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r1[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/Opera[\s|\/]([^\s]+)/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; r1 = r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].split(&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_opera&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; Opera&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/Trident\/7.0/gi&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_ie&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; Internet Explorer 11&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (r = e.match(&lt;span class=&quot;regexp&quot;&gt;/MSIE\s([^\s|;]+)/gi&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_ie&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; Internet Explorer&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;|&#39;&lt;/span&gt; + r[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;]&lt;span class=&quot;comment&quot;&gt;/*.replace(&#39;MSIE&#39;, &#39;&#39;).split(&#39;.&#39;)[0]*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            outputer = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;ua_other&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-globe&quot;&amp;gt;&amp;lt;/i&amp;gt; 其它浏览器&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(sskcheckMobile())&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Mobile=&lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            Mobile=&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; outputer+&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;/span&amp;gt;&quot;&lt;/span&gt;+Mobile ;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sskos&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; os = &lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/win/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/nt 5.1/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_xp&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Windows XP&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/nt 6.1/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_7&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Windows 7&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/nt 6.2/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_8&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Windows 8&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/nt 6.3/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_8_1&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Windows 8.1&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/nt 10.0/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_8_1&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Windows 10&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/nt 6.0/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_vista&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Windows Vista&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/nt 5/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_2000&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Windows 2000&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_windows&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Windows&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/android/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_android&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-android&quot;&amp;gt;&amp;lt;/i&amp;gt; Android&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/ubuntu/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_ubuntu&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Ubuntu&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/linux/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_linux&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-linux&quot;&amp;gt;&amp;lt;/i&amp;gt; Linux&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/mac/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_mac&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Mac OS X&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/unix/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_unix&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; Unix&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (e.match(&lt;span class=&quot;regexp&quot;&gt;/symbian/ig&lt;/span&gt;)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_nokia&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-mobile&quot;&amp;gt;&amp;lt;/i&amp;gt; Nokia SymbianOS&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        os = &lt;span class=&quot;string&quot;&gt;&#39;&amp;lt;span class=&quot;os_other&quot;&amp;gt;&amp;lt;i class=&quot;fa fa-desktop&quot;&amp;gt;&amp;lt;/i&amp;gt; 其它操作系统&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; os+&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;/span&amp;gt;&quot;&lt;/span&gt; ;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//显UA结束&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后，找到&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;data-qqt-account=&amp;quot;&amp;apos; + (r.qqt_account || &amp;quot;&amp;quot;) + &amp;apos;&amp;quot;&amp;gt;&amp;apos; + u(r.name) + &amp;quot;&amp;lt;/span&amp;gt;&amp;quot;),&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在后面添加&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;t += &amp;quot;&amp;lt;span class=\&amp;quot;ua\&amp;quot;&amp;gt;&amp;quot; + sskua(s.agent) + &amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=\&amp;quot;ua\&amp;quot;&amp;gt;&amp;quot; + sskos(s.agent) + &amp;quot;&amp;lt;/span&amp;gt;&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;找到Hexo模板中插入多说评论的Js代码，修改导入ember.js文件的地址为自定义的，这里可以将自定义的放到七牛云等静态资源托管平台，也可以放在当前项目静态文件目录中。&lt;br&gt;我的Hexo主题是使用的&lt;code&gt;maupassant&lt;/code&gt;，插入多说评论的Js代码在主题的文件是&lt;code&gt;layout/_partial/after_footer.jade&lt;/code&gt;，把&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ds.src = (document.location.protocol == &amp;apos;https:&amp;apos; ? &amp;apos;https:&amp;apos; : &amp;apos;http:&amp;apos;) + &amp;apos;//static.duoshuo.com/embed.js&amp;apos;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;改为&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ds.src = &amp;apos;/js/embed.js&amp;apos;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其中，我自定义的embed.js文件放在&lt;code&gt;maupassant&lt;/code&gt;主题下的&lt;code&gt;source/js/&lt;/code&gt;目录下。&lt;/p&gt;
&lt;h2 id=&quot;自定义显示CSS&quot;&gt;&lt;a href=&quot;#自定义显示CSS&quot; class=&quot;headerlink&quot; title=&quot;自定义显示CSS&quot;&gt;&lt;/a&gt;自定义显示CSS&lt;/h2&gt;&lt;p&gt;将下面的CSS样式添加到多说后台自定义CSS中&lt;/p&gt;
&lt;p&gt;登录多说，在&lt;code&gt;后台-&amp;gt;设置-&amp;gt;基本设置-&amp;gt;自定义CSS&lt;/code&gt;中添加下面的自定义的CSS即可&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/*UA Start*/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;span.ua &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    margin: 0 1px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    color: #FFFFFF!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    /*text-transform: Capitalize!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    float: right!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    line-height: 18px!important;*/;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_other.os_other &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #ccc!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    color: #fff;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border: 1px solid #BBB!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_ie &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #428bca!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #357ebd!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_firefox &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #f0ad4e!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #eea236!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_maxthon &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #7373B9!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #7373B9!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_ucweb &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #FF740F!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #d43f3a!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_sogou &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #78ACE9!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #4cae4c!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_2345explorer &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #2478B8!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #4cae4c!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_2345chrome &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #F9D024!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #4cae4c!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_mi &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #FF4A00!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #4cae4c!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_lbbrowser &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #FC9D2E!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #4cae4c!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_chrome &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #EE6252!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #4cae4c!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_qq &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #3D88A8!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #4cae4c!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_apple &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #E95620!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #4cae4c!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ua_opera &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #d9534f!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #d43f3a!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.os_vista,.os_2000,.os_windows,.os_xp,.os_7,.os_8,.os_8_1 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #39b3d7!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #46b8da!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.os_android &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #98C13D!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #01B171!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.os_ubuntu &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #DD4814!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #01B171!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.os_linux &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #3A3A3A!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #1F1F1F!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.os_mac &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #666666!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #1F1F1F!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.os_unix &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #006600!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #1F1F1F!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.os_nokia &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #014485!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #1F1F1F!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.sskadmin &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #00a67c!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-color: #01B171!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 4px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0 5px!important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/*UA End*/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;多说评论用户头像水平翻转效果&quot;&gt;&lt;a href=&quot;#多说评论用户头像水平翻转效果&quot; class=&quot;headerlink&quot; title=&quot;多说评论用户头像水平翻转效果&quot;&gt;&lt;/a&gt;多说评论用户头像水平翻转效果&lt;/h2&gt;&lt;p&gt;在多说系统的自定义CSS中添加如下代码即可实现：&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;141&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;142&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;143&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;144&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;145&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;/*Head Start*/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset ul.ds-comments-tabs li.ds-tab a.ds-current &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border: 0px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    color: #6D6D6B;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    text-shadow: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background: #F3F3F3;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset .ds-highlight &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    font-family: Microsoft YaHei, &quot;Helvetica Neue&quot;, Helvetica, Arial, Sans-serif;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ;font-size: 100%;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    color: #6D6D6B !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset ul.ds-comments-tabs li.ds-tab a.ds-current:hover &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    color: #696a52;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background: #F2F2F2;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset a.ds-highlight:hover &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    color: #696a52 !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding-left: 30px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset li.ds-post,#ds-thread #ds-reset #ds-hot-posts &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    overflow: visible;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset .ds-post-self &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 10px 0 10px 10px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset li.ds-post,#ds-thread #ds-reset .ds-post-self &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border: 0 !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-reset .ds-avatar, #ds-thread #ds-reset ul.ds-children .ds-avatar &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    top: 15px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    left: -20px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 5px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    width: 36px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    height: 36px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    box-shadow: -1px 0 1px rgba(0,0,0,.15) inset;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 46px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background: #FAFAFA;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread .ds-avatar a &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    display: inline-block;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 1px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    width: 32px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    height: 32px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border: 1px solid #b9baa6;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 50%;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #fff !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread .ds-avatar a:hover &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread .ds-avatar &amp;gt; img &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    margin: 2px 0 0 2px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset .ds-replybox &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    box-shadow: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset ul.ds-children .ds-replybox.ds-inline-replybox a.ds-avatar,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-reset .ds-replybox.ds-inline-replybox a.ds-avatar &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    left: 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    top: 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    width: 32px !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    height: 32px !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    box-shadow: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-reset .ds-replybox.ds-inline-replybox a.ds-avatar img &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    width: 32px !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    height: 32px !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 50%;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-reset .ds-replybox a.ds-avatar,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-reset .ds-replybox .ds-avatar img &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    width: 50px !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    height: 50px !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 5px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-reset .ds-avatar img &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    width: 32px !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    height: 32px !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 32px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.22);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -webkit-transition: .8s all ease-in-out;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -moz-transition: .4s all ease-in-out;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -o-transition: .4s all ease-in-out;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -ms-transition: .4s all ease-in-out;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    transition: .4s all ease-in-out;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.ds-post-self:hover .ds-avatar img &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -webkit-transform: rotateX(360deg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -moz-transform: rotate(360deg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -o-transform: rotate(360deg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -ms-transform: rotate(360deg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    transform: rotate(360deg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset .ds-comment-body &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -webkit-transition-delay: initial;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -webkit-transition-duration: 0.4s;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -webkit-transition-property: all;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -webkit-transition-timing-function: initial;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background: #F7F7F7;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding: 15px 15px 15px 47px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-radius: 5px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    box-shadow: #B8B9B9 0 1px 3px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border: white 1px solid;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset ul.ds-children .ds-comment-body &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    padding-left: 15px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset .ds-comment-body p &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    color: #787968;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset .ds-comments &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border-bottom: 0px;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset .ds-powered-by &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    display: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset .ds-comments a.ds-user-name &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    font-weight: normal;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    color: #3D3D3D !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset .ds-comments a.ds-user-name:hover &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    color: #D32 !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset #ds-bubble &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    display: none !important;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset #ds-hot-posts &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    border: 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-reset #ds-hot-posts .ds-gradient-bg &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#ds-thread #ds-reset .ds-comment-body:hover &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    background-color: #F1F1F1;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -webkit-transition-delay: initial;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -webkit-transition-duration: 0.4s;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -webkit-transition-property: all;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    -webkit-transition-timing-function: initial;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/*Head End*/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;想要在多说评论中显示浏览器以及操作系统信息，第一步当然是获取信息，这部分的处理放在多说的embed.js文件中，还有一部分是显示浏览器以及操作系统信息，这部分在多说系统中添加自定义的CSS来实现。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="http://blog.pfchai.com/tags/Hexo/"/>
    
      <category term="博客" scheme="http://blog.pfchai.com/tags/%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="教程" scheme="http://blog.pfchai.com/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 搭建博客</title>
    <link href="http://blog.pfchai.com/2016/05/Hexo-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://blog.pfchai.com/2016/05/Hexo-搭建博客/</id>
    <published>2016-05-12T13:37:05.000Z</published>
    <updated>2016-07-25T15:47:19.385Z</updated>
    
    <content type="html">&lt;p&gt;Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。&lt;/p&gt;
&lt;h1 id=&quot;安装Hexo&quot;&gt;&lt;a href=&quot;#安装Hexo&quot; class=&quot;headerlink&quot; title=&quot;安装Hexo&quot;&gt;&lt;/a&gt;安装Hexo&lt;/h1&gt;&lt;p&gt;我的开发环境是Ubuntu 14.04，node及Hexo的版本为：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hexo: 3.2.0&lt;br&gt;hexo-cli: 1.0.1&lt;br&gt;os: Linux 3.16.0-36-generic linux x64&lt;br&gt;http_parser: 2.6.0&lt;br&gt;node: 5.4.0&lt;br&gt;v8: 4.6.85.31&lt;br&gt;uv: 1.8.0&lt;br&gt;zlib: 1.2.8&lt;br&gt;ares: 1.10.1-DEV&lt;br&gt;icu: 56.1&lt;br&gt;modules: 47&lt;br&gt;openssl: 1.0.2e&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Hexo依赖node.js，所以先要安装node.js、npm以及git等，具体安装请参考官方介绍，安装好node等环境后，在shell中输入&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo npm install hexo-cli -g&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo npm install hexo --save&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;等待几分钟，Hexo即可搭建完成。&lt;/p&gt;
&lt;h1 id=&quot;配置Hexo&quot;&gt;&lt;a href=&quot;#配置Hexo&quot; class=&quot;headerlink&quot; title=&quot;配置Hexo&quot;&gt;&lt;/a&gt;配置Hexo&lt;/h1&gt;&lt;p&gt;init会自动安装依赖，不需要再npm install&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;hexo init &amp;lt;folder&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cd &amp;lt;folder&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;本地查看效果&quot;&gt;&lt;a href=&quot;#本地查看效果&quot; class=&quot;headerlink&quot; title=&quot;本地查看效果&quot;&gt;&lt;/a&gt;本地查看效果&lt;/h2&gt;&lt;p&gt;在shell中执行&lt;code&gt;hexo server&lt;/code&gt;之后，访问&lt;code&gt;localhost:4000&lt;/code&gt;查看效果，也可以通过&lt;code&gt;hexo server 0.0.0.0:4000&lt;/code&gt;使得其他主机能够看到效果。&lt;/p&gt;
&lt;h2 id=&quot;部署到github-io上&quot;&gt;&lt;a href=&quot;#部署到github-io上&quot; class=&quot;headerlink&quot; title=&quot;部署到github.io上&quot;&gt;&lt;/a&gt;部署到github.io上&lt;/h2&gt;&lt;p&gt;在github上新建一个仓库（repository），名字必须是&lt;code&gt;user.github.io&lt;/code&gt;，其中user是你的github用户名。&lt;br&gt;修改Hexo项目中的&lt;code&gt;_config.yml&lt;/code&gt;文件，把最后修改为&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;deploy:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  type: git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  repository: git@github.com:user/user.github.io.git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  branch: master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;其中，user是你的github用户名，运行&lt;code&gt;hexo deploy&lt;/code&gt;，会将当前Hexo同步到github，此时访问&lt;code&gt;http://user.github.io/&lt;/code&gt;即可看到刚配置好的博客。&lt;/p&gt;
&lt;h3 id=&quot;问题1-执行hexo-deploy后，出现ERROR-Deployer-not-found-git&quot;&gt;&lt;a href=&quot;#问题1-执行hexo-deploy后，出现ERROR-Deployer-not-found-git&quot; class=&quot;headerlink&quot; title=&quot;问题1. 执行hexo deploy后，出现ERROR Deployer not found: git&quot;&gt;&lt;/a&gt;问题1. 执行&lt;code&gt;hexo deploy&lt;/code&gt;后，出现&lt;code&gt;ERROR Deployer not found: git&lt;/code&gt;&lt;/h3&gt;&lt;p&gt;解决办法，在当前目录下执行&lt;code&gt;sudo npm install hexo-deployer-git --save&lt;/code&gt;即可。&lt;/p&gt;
&lt;h2 id=&quot;绑定自己的域名&quot;&gt;&lt;a href=&quot;#绑定自己的域名&quot; class=&quot;headerlink&quot; title=&quot;绑定自己的域名&quot;&gt;&lt;/a&gt;绑定自己的域名&lt;/h2&gt;&lt;p&gt;我是想要将一个二级域名blog.pfchai.com绑定到github.io上，首先，需要更改DNS配置，添加一个新的配置：记录类型为CNAME，主机记录为blog，记录值为pfchai.github.io，同时还需要在项目的根目录下新建一个名为CNAME的文件，文件内容形如：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;blog.pfchai.com&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;将CNAME文件放在source文件夹下，每次上传就不会删除掉了，其他readme等文件也可以放在这个目录下。&lt;/p&gt;
&lt;h2 id=&quot;部署到云主机上&quot;&gt;&lt;a href=&quot;#部署到云主机上&quot; class=&quot;headerlink&quot; title=&quot;部署到云主机上&quot;&gt;&lt;/a&gt;部署到云主机上&lt;/h2&gt;&lt;p&gt;由于国内访问github的速度实在太慢，用过一段时间coding.net，发现有时候会莫名其妙连不上，果断改为部署在自己的云主机上。&lt;/p&gt;
&lt;h3 id=&quot;云主机上配置环境&quot;&gt;&lt;a href=&quot;#云主机上配置环境&quot; class=&quot;headerlink&quot; title=&quot;云主机上配置环境&quot;&gt;&lt;/a&gt;云主机上配置环境&lt;/h3&gt;&lt;p&gt;我的云主机系统是Ubunt，首先需要安装Nginx，安装很简单&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo apt-get install nginx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;配置Nginx，修改&lt;code&gt;/etc/nginx/site-available/default&lt;/code&gt;文件，添加&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    listen 80 ;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    server_name blog.pfchai.com;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    location / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        root /home/to/Blog;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        index index.html index.htm;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;重启Nginx&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo service nginx restart&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;修改域名配置&quot;&gt;&lt;a href=&quot;#修改域名配置&quot; class=&quot;headerlink&quot; title=&quot;修改域名配置&quot;&gt;&lt;/a&gt;修改域名配置&lt;/h3&gt;&lt;p&gt;将域名的A记录指向云主机的ip。我现在的网站同时托管在github page和云主机上，同一个域名下，海外地址解析到github page，国内域名解析到云主机。&lt;/p&gt;
&lt;h3 id=&quot;自动部署&quot;&gt;&lt;a href=&quot;#自动部署&quot; class=&quot;headerlink&quot; title=&quot;自动部署&quot;&gt;&lt;/a&gt;自动部署&lt;/h3&gt;&lt;p&gt;Hexo安装插件&lt;code&gt;hexo-deployer-rsync&lt;/code&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;npm install hexo-deployer-rsync --save&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;修改Hexo的配置文件类似为下面的形式：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;deploy:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- type: rsync&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  host: 182.254.148.171&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  user: user&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  root: Blog&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  delete: true&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  verbose: true&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;- type: git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  repository:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    github: git@github.com:pfchai/pfchai.github.io.git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  branch: master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&quot;常用命令&quot;&gt;&lt;a href=&quot;#常用命令&quot; class=&quot;headerlink&quot; title=&quot;常用命令&quot;&gt;&lt;/a&gt;常用命令&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;hexo new &amp;quot;postName&amp;quot; #新建文章&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo new page &amp;quot;pageName&amp;quot; #新建页面&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo generate #生成静态页面至public目录&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo server #开启预览访问端口（默认端口4000，&amp;apos;ctrl + c&amp;apos;关闭server）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo deploy #将.deploy目录部署到GitHub&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo help  # 查看帮助&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo version  #查看Hexo的版本&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;安装主题&quot;&gt;&lt;a href=&quot;#安装主题&quot; class=&quot;headerlink&quot; title=&quot;安装主题&quot;&gt;&lt;/a&gt;安装主题&lt;/h1&gt;&lt;p&gt;安装主题很简单，将主题复制到hexo项目中的theme文件夹下，然后再在项目的&lt;code&gt;_config.yml&lt;/code&gt;文件中将主题改为要换的主题名字即可。&lt;br&gt;有的主题可能需要安装其他第三方的库，具体看对应主题的介绍。&lt;/p&gt;
&lt;p&gt;找了几个比较喜欢的主题：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/MOxFIVE/hexo-theme-yelee&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;hexo-theme-yelee&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://camo.githubusercontent.com/d92cb815d16b7bc66e6b41b22a2bfc324f930dd2/687474703a2f2f6d6f78666976652e6769746875622e696f2f7265736f75726365732f79656c65652d6d6f636b75702e6a7067&quot; alt=&quot;hexo-theme-yelee&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/litten/hexo-theme-yilia&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;hexo-theme-yilia&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://camo.githubusercontent.com/1a7175617e4d866305b091857c7517ae542df65d/687474703a2f2f6c697474656e646f6d6f2e73696e616170702e636f6d2f79696c69612f79696c69612d7063312e706e67&quot; alt=&quot;hexo-theme-yilia&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/luuman/hexo-theme-spfk&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;hexo-theme-spfk&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://raw.githubusercontent.com/luuman/luuman.github.io/master/resoures/luuman-ipad-iphone.jpg&quot; alt=&quot;hexo-theme-spfk&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tufu9441/maupassant-hexo&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;maupassant-hexo&lt;/a&gt;&lt;br&gt;&lt;img src=&quot;https://camo.githubusercontent.com/74fd2ccea00a682742515ce1d3725283c3385721/687474703a2f2f6f6f6f2e306f302e6f6f6f2f323031352f31302f32342f353632623562653132313737652e6a7067&quot; alt=&quot;maupassant-hexo&quot;&gt;&lt;br&gt;&lt;strong&gt;注：&lt;/strong&gt; 安装maupassant过程中遇到问题参考&lt;a href=&quot;http://www.rockcoding.com/2016/03/02/hexo/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这个&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;自定义页面&quot;&gt;&lt;a href=&quot;#自定义页面&quot; class=&quot;headerlink&quot; title=&quot;自定义页面&quot;&gt;&lt;/a&gt;自定义页面&lt;/h1&gt;&lt;h2 id=&quot;404页面&quot;&gt;&lt;a href=&quot;#404页面&quot; class=&quot;headerlink&quot; title=&quot;404页面&quot;&gt;&lt;/a&gt;404页面&lt;/h2&gt;&lt;p&gt;GitHub Pages有提供制作404页面的&lt;a href=&quot;https://help.github.com/articles/creating-a-custom-404-page-for-your-github-pages-site/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;指引&lt;/a&gt;&lt;br&gt;直接在&lt;code&gt;source&lt;/code&gt;目录下创建&lt;code&gt;404.html&lt;/code&gt;或者&lt;code&gt;404.md&lt;/code&gt;文件就可以。&lt;br&gt;推荐使用&lt;a href=&quot;http://www.qq.com/404/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;腾讯公益404&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;about页面&quot;&gt;&lt;a href=&quot;#about页面&quot; class=&quot;headerlink&quot; title=&quot;about页面&quot;&gt;&lt;/a&gt;about页面&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;hexo new page &amp;quot;about&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;执行上述命令后，会创建&lt;code&gt;\source\about\&lt;/code&gt;目录，并在该目录下创建&lt;code&gt;index.md&lt;/code&gt;文件，打开输入关于信息即可&lt;/p&gt;
&lt;h2 id=&quot;Fork-me-on-Github&quot;&gt;&lt;a href=&quot;#Fork-me-on-Github&quot; class=&quot;headerlink&quot; title=&quot;Fork me on Github&quot;&gt;&lt;/a&gt;Fork me on Github&lt;/h2&gt;&lt;p&gt;在&lt;a href=&quot;https://github.com/blog/273-github-ribbons&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;获取需要的代码，添加到&lt;code&gt;themes/yilia/layout/layout.ejs&lt;/code&gt;文件的中即可，注意要把代码中的github项目名称改成自己的。&lt;/p&gt;
&lt;h1 id=&quot;SEO&quot;&gt;&lt;a href=&quot;#SEO&quot; class=&quot;headerlink&quot; title=&quot;SEO&quot;&gt;&lt;/a&gt;SEO&lt;/h1&gt;&lt;p&gt;网站SEO的思路有两个，一个建立sitmaps、robots等文件，让搜索引擎更好的抓取网站内容，另一个思路是增加外链数量，工具可以先研究这个&lt;a href=&quot;http://tool.lusongsong.com/addurl.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;站长工具&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;1-建立Google-Sitemaps&quot;&gt;&lt;a href=&quot;#1-建立Google-Sitemaps&quot; class=&quot;headerlink&quot; title=&quot;1. 建立Google Sitemaps&quot;&gt;&lt;/a&gt;1. 建立Google Sitemaps&lt;/h2&gt;&lt;p&gt;使用Google Sitemaps 有助于加速网页的查找，这也是抓取网页和编制索引重要的第一步。Hexo中建立Sitemaps很简单，只需要安装一个&lt;a href=&quot;https://github.com/hexojs/hexo-generator-sitemap&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;hexo-generator-sitemap&lt;/a&gt;插件即可。&lt;/p&gt;
&lt;p&gt;安装 hexo-generator-sitemap&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;npm install hexo-generator-sitemap --save&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;配置&lt;br&gt;在&lt;code&gt;_config&lt;/code&gt;文件中加入&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Plugins:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    - hexo-generator-sitemap&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# sitemap&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sitemap:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    path: sitemap.xml&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;2-添加RSS&quot;&gt;&lt;a href=&quot;#2-添加RSS&quot; class=&quot;headerlink&quot; title=&quot;2. 添加RSS&quot;&gt;&lt;/a&gt;2. 添加RSS&lt;/h2&gt;&lt;p&gt;安装插件&lt;a href=&quot;https://github.com/hexojs/hexo-generator-feed&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;hexo-generator-feed&lt;/a&gt;&lt;br&gt;在&lt;code&gt;_config.yml&lt;/code&gt;文件中增加配置&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;feed:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  type: atom&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  path: atom.xml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  limit: 20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  hub:&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在主题中增加RSS订阅链接&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# SubNav&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;subnav:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rss: &amp;quot;/atom.xml&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;3-建立robots-txt&quot;&gt;&lt;a href=&quot;#3-建立robots-txt&quot; class=&quot;headerlink&quot; title=&quot;3. 建立robots.txt&quot;&gt;&lt;/a&gt;3. 建立robots.txt&lt;/h2&gt;&lt;p&gt;谷歌、雅虎等搜索引擎爬取网站页面的时候，会首先根据网站根目录下的&lt;code&gt;robots&lt;/code&gt;文件的约定来爬取网站内容。&lt;br&gt;在source目录下新建&lt;code&gt;robots.txt&lt;/code&gt;文件，写入下面内容&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;User-agent: *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Disallow:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Sitemap: http://blog.pfchai.com/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。&lt;/p&gt;
&lt;h1 id=&quot;安装Hexo&quot;&gt;&lt;a href=&quot;#安装Hexo&quot; class=&quot;headerlink&quot; title=
    
    </summary>
    
    
      <category term="Hexo" scheme="http://blog.pfchai.com/tags/Hexo/"/>
    
      <category term="博客" scheme="http://blog.pfchai.com/tags/%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="教程" scheme="http://blog.pfchai.com/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Django中加入富文本编辑器</title>
    <link href="http://blog.pfchai.com/2016/05/Django%E4%B8%AD%E5%8A%A0%E5%85%A5%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    <id>http://blog.pfchai.com/2016/05/Django中加入富文本编辑器/</id>
    <published>2016-05-10T10:57:46.000Z</published>
    <updated>2016-07-22T03:23:33.155Z</updated>
    
    <content type="html">&lt;p&gt;目前主流有两个插件，一个是&lt;a href=&quot;http://kindeditor.net/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;KindEditor&lt;/a&gt;(遵循LGPL v2)，另一个是百度的&lt;a href=&quot;http://ueditor.baidu.com/website/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;uEditor&lt;/a&gt;(遵循MIT协议)&lt;/p&gt;
&lt;p&gt;KindEditor 是一套开源的在线HTML编辑器，主要用于让用户在网站上获得所见即所得编辑效果，开发人员可以用 KindEditor 把传统的多行文本输入框(textarea)替换为可视化的富文本输入框。 KindEditor 使用 JavaScript 编写，可以无缝地与 Java、.NET、PHP、ASP 等程序集成，比较适合在 CMS、商城、论坛、博客、Wiki、电子邮件等互联网应用上使用。&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;Django中使用KindEditor&quot;&gt;&lt;a href=&quot;#Django中使用KindEditor&quot; class=&quot;headerlink&quot; title=&quot;Django中使用KindEditor&quot;&gt;&lt;/a&gt;Django中使用KindEditor&lt;/h2&gt;&lt;p&gt;先&lt;a href=&quot;http://kindeditor.net/down.php&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;下载KindEditor&lt;/a&gt;，解压后可以将没用用的asp, asp.net, jsp, php等用不到的文件夹删除，之后将剩余的所有文件复制到Django项目的static目录下。&lt;/p&gt;
&lt;p&gt;在需要富文本编辑页面中添加相应的JavaScript代码即可，详细过程参看&lt;a href=&quot;http://kindeditor.net/docs/usage.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官网介绍&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;admin后台管理中引入KindEditor&quot;&gt;&lt;a href=&quot;#admin后台管理中引入KindEditor&quot; class=&quot;headerlink&quot; title=&quot;admin后台管理中引入KindEditor&quot;&gt;&lt;/a&gt;admin后台管理中引入KindEditor&lt;/h3&gt;&lt;p&gt;在admin后台管理中的html页面中引入KindEditor，需要在admin.py中的管理类中添加&lt;code&gt;class Media&lt;/code&gt;&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#admin.py&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; django.contrib &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; admin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; .models &lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; Article&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@admin.register(Article)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ArticleAdmin&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(admin.ModelAdmin)&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    list_display = (&lt;span class=&quot;string&quot;&gt;&#39;title&#39;&lt;/span&gt;, )&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Media&lt;/span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        js = (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;/static/js/kindeditor/kindeditor-all-min.js&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;/static/js/kindeditor/lang/zh_CN.js&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;string&quot;&gt;&#39;/static/js/kindeditor/config.js&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        )&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;注意，上述代码中用到了&lt;code&gt;config.js&lt;/code&gt;文件需要自己创建&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//config.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;KindEditor.ready(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;K&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.editor = K.create(&lt;span class=&quot;string&quot;&gt;&#39;#id_content&#39;&lt;/span&gt;,&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// 指定大小&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        width:&lt;span class=&quot;string&quot;&gt;&#39;800px&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        height:&lt;span class=&quot;string&quot;&gt;&#39;200px&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;显示富文本文件内容&quot;&gt;&lt;a href=&quot;#显示富文本文件内容&quot; class=&quot;headerlink&quot; title=&quot;显示富文本文件内容&quot;&gt;&lt;/a&gt;显示富文本文件内容&lt;/h3&gt;&lt;p&gt;想要达到富文本的效果，只需要将存储的富文本内容用&lt;code&gt;autoescape off&lt;/code&gt;包括起来就可以了。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;% autoescape off %&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&amp;#123;post.content&amp;#125;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;% endautoescape %&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;目前主流有两个插件，一个是&lt;a href=&quot;http://kindeditor.net/&quot;&gt;KindEditor&lt;/a&gt;(遵循LGPL v2)，另一个是百度的&lt;a href=&quot;http://ueditor.baidu.com/website/&quot;&gt;uEditor&lt;/a&gt;(遵循MIT协议)&lt;/p&gt;
&lt;p&gt;KindEditor 是一套开源的在线HTML编辑器，主要用于让用户在网站上获得所见即所得编辑效果，开发人员可以用 KindEditor 把传统的多行文本输入框(textarea)替换为可视化的富文本输入框。 KindEditor 使用 JavaScript 编写，可以无缝地与 Java、.NET、PHP、ASP 等程序集成，比较适合在 CMS、商城、论坛、博客、Wiki、电子邮件等互联网应用上使用。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="http://blog.pfchai.com/tags/Python/"/>
    
      <category term="Django" scheme="http://blog.pfchai.com/tags/Django/"/>
    
      <category term="开发" scheme="http://blog.pfchai.com/tags/%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>leetcode 刷题（shell部分）</title>
    <link href="http://blog.pfchai.com/2016/05/leetcode-%E5%88%B7%E9%A2%98%EF%BC%88shell%E9%83%A8%E5%88%86%EF%BC%89/"/>
    <id>http://blog.pfchai.com/2016/05/leetcode-刷题（shell部分）/</id>
    <published>2016-05-05T13:17:08.000Z</published>
    <updated>2016-07-22T03:24:29.285Z</updated>
    
    <content type="html">&lt;h2 id=&quot;192-Word-Frequency&quot;&gt;&lt;a href=&quot;#192-Word-Frequency&quot; class=&quot;headerlink&quot; title=&quot;192. Word Frequency&quot;&gt;&lt;/a&gt;192. &lt;a href=&quot;https://leetcode.com/problems/word-frequency/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Word Frequency&lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;题目描述&quot;&gt;&lt;a href=&quot;#题目描述&quot; class=&quot;headerlink&quot; title=&quot;题目描述&quot;&gt;&lt;/a&gt;题目描述&lt;/h3&gt;&lt;p&gt;统计文件中各个单词出现的次数&lt;/p&gt;
&lt;h3 id=&quot;解题思路&quot;&gt;&lt;a href=&quot;#解题思路&quot; class=&quot;headerlink&quot; title=&quot;解题思路&quot;&gt;&lt;/a&gt;解题思路&lt;/h3&gt;&lt;p&gt;只想到awk（awk几乎可以做任何事情…）&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;for(i=1; i&amp;lt;=NF; i++) r[$i] ++;&amp;#125;END&amp;#123;for (key in r)&amp;#123;print key &quot; &quot; r[key];&amp;#125;&amp;#125;&#39;&lt;/span&gt; words.txt | sort -k2nr&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;另外，看到&lt;a href=&quot;http://bookshadow.com/weblog/2015/03/24/leetcode-word-frequency/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这篇&lt;/a&gt;博客里的另一种思路&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cat words.txt | tr &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39; &#39;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;\n&#39;&lt;/span&gt; | sort | uniq -c | sort -rn | awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;print $2&quot; &quot;$1&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;193-Valid-Phone-Numbers&quot;&gt;&lt;a href=&quot;#193-Valid-Phone-Numbers&quot; class=&quot;headerlink&quot; title=&quot;193. Valid Phone Numbers&quot;&gt;&lt;/a&gt;193. &lt;a href=&quot;https://leetcode.com/problems/valid-phone-numbers/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Valid Phone Numbers&lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;题目描述-1&quot;&gt;&lt;a href=&quot;#题目描述-1&quot; class=&quot;headerlink&quot; title=&quot;题目描述&quot;&gt;&lt;/a&gt;题目描述&lt;/h3&gt;&lt;p&gt;验证文件中每行是否是一个合法的电话号码&lt;/p&gt;
&lt;h3 id=&quot;解题思路-1&quot;&gt;&lt;a href=&quot;#解题思路-1&quot; class=&quot;headerlink&quot; title=&quot;解题思路&quot;&gt;&lt;/a&gt;解题思路&lt;/h3&gt;&lt;p&gt;很简单，用正则规则先验证即可&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;egrep &lt;span class=&quot;string&quot;&gt;&#39;^(\([0-9]&amp;#123;3&amp;#125;\)\ [0-9]&amp;#123;3&amp;#125;|[0-9]&amp;#123;3&amp;#125;-[0-9]&amp;#123;3&amp;#125;)-[0-9]&amp;#123;4&amp;#125;$&#39;&lt;/span&gt; file.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;194-Transpose-File&quot;&gt;&lt;a href=&quot;#194-Transpose-File&quot; class=&quot;headerlink&quot; title=&quot;194. Transpose File&quot;&gt;&lt;/a&gt;194. &lt;a href=&quot;https://leetcode.com/problems/transpose-file/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Transpose File&lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;题目描述-2&quot;&gt;&lt;a href=&quot;#题目描述-2&quot; class=&quot;headerlink&quot; title=&quot;题目描述&quot;&gt;&lt;/a&gt;题目描述&lt;/h3&gt;&lt;p&gt;相当于文件的转置&lt;/p&gt;
&lt;h3 id=&quot;解题思路-2&quot;&gt;&lt;a href=&quot;#解题思路-2&quot; class=&quot;headerlink&quot; title=&quot;解题思路&quot;&gt;&lt;/a&gt;解题思路&lt;/h3&gt;&lt;p&gt;思路很简单，主要是看对于常用工具的使用&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;for(i=1; i&amp;lt;=NF; i++) &amp;#123;r[i] = r[i] &quot; &quot; $i;&amp;#125;&amp;#125; END&amp;#123; for(i=1; i&amp;lt;=NF; i++) print substr(r[i], 2)&amp;#125;&#39;&lt;/span&gt; file.txt&lt;span class=&quot;string&quot;&gt;&#39;&amp;gt;)&amp;#125;&amp;gt;)&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;195-Tenth-Line&quot;&gt;&lt;a href=&quot;#195-Tenth-Line&quot; class=&quot;headerlink&quot; title=&quot;195. Tenth Line&quot;&gt;&lt;/a&gt;195. &lt;a href=&quot;https://leetcode.com/problems/tenth-line/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Tenth Line&lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;题目描述-3&quot;&gt;&lt;a href=&quot;#题目描述-3&quot; class=&quot;headerlink&quot; title=&quot;题目描述&quot;&gt;&lt;/a&gt;题目描述&lt;/h3&gt;&lt;p&gt;打印文件的第10行内容&lt;/p&gt;
&lt;h3 id=&quot;解题思路-3&quot;&gt;&lt;a href=&quot;#解题思路-3&quot; class=&quot;headerlink&quot; title=&quot;解题思路&quot;&gt;&lt;/a&gt;解题思路&lt;/h3&gt;&lt;p&gt;第一次提交的时候没有注意如果文本行数没有10行的时候不输出，想了好久都没有想出来，最后还是参考别人的解法，发现还是对Linux下的工具用的太少，好多功能不知道。解法有&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# awk&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;NR == 10&#39;&lt;/span&gt; file.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# sed&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sed -n &lt;span class=&quot;string&quot;&gt;&#39;10p&#39;&lt;/span&gt; file.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# tail + head&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tail -n+10 file.txt | head -n 1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;192-Word-Frequency&quot;&gt;&lt;a href=&quot;#192-Word-Frequency&quot; class=&quot;headerlink&quot; title=&quot;192. Word Frequency&quot;&gt;&lt;/a&gt;192. &lt;a href=&quot;https://leetcode.com/problems/word-frequency/&quot;&gt;Word Frequency&lt;/a&gt;&lt;/h2&gt;&lt;h3 id=&quot;题目描述&quot;&gt;&lt;a href=&quot;#题目描述&quot; class=&quot;headerlink&quot; title=&quot;题目描述&quot;&gt;&lt;/a&gt;题目描述&lt;/h3&gt;&lt;p&gt;统计文件中各个单词出现的次数&lt;/p&gt;
&lt;h3 id=&quot;解题思路&quot;&gt;&lt;a href=&quot;#解题思路&quot; class=&quot;headerlink&quot; title=&quot;解题思路&quot;&gt;&lt;/a&gt;解题思路&lt;/h3&gt;&lt;p&gt;只想到awk（awk几乎可以做任何事情…）&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;for(i=1; i&amp;lt;=NF; i++) r[$i] ++;&amp;#125;END&amp;#123;for (key in r)&amp;#123;print key &quot; &quot; r[key];&amp;#125;&amp;#125;&#39;&lt;/span&gt; words.txt | sort -k2nr&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;另外，看到&lt;a href=&quot;http://bookshadow.com/weblog/2015/03/24/leetcode-word-frequency/&quot;&gt;这篇&lt;/a&gt;博客里的另一种思路&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;cat words.txt | tr &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39; &#39;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;\n&#39;&lt;/span&gt; | sort | uniq -c | sort -rn | awk &lt;span class=&quot;string&quot;&gt;&#39;&amp;#123;print $2&quot; &quot;$1&amp;#125;&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="leetcode" scheme="http://blog.pfchai.com/tags/leetcode/"/>
    
      <category term="shell" scheme="http://blog.pfchai.com/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>Sublime Text 3 教程</title>
    <link href="http://blog.pfchai.com/2016/04/Sublime-Text-3-%E6%95%99%E7%A8%8B/"/>
    <id>http://blog.pfchai.com/2016/04/Sublime-Text-3-教程/</id>
    <published>2016-04-26T02:16:36.000Z</published>
    <updated>2016-07-22T03:22:23.881Z</updated>
    
    <content type="html">&lt;h2 id=&quot;1-安装与初始配置&quot;&gt;&lt;a href=&quot;#1-安装与初始配置&quot; class=&quot;headerlink&quot; title=&quot;1. 安装与初始配置&quot;&gt;&lt;/a&gt;1. 安装与初始配置&lt;/h2&gt;&lt;p&gt;安装在Ubuntu上，直接在&lt;a href=&quot;http://www.sublimetext.com/3&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官网&lt;/a&gt;下载deb包安装即可。&lt;br&gt;安装成功后，即可在命令行中打开软件&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;subl file       # 使用Sublime Text打开file文件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;subl folder     # 使用Sublime Text打开folder文件夹&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;安装Package Control，参考&lt;a href=&quot;https://packagecontrol.io/installation&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官方介绍的方法&lt;/a&gt;安装，之后使用&lt;code&gt;Ctrl + Shift + P&lt;/code&gt;打开命令面板，输入pcip就会出现Package Control。&lt;/p&gt;
&lt;h2 id=&quot;2-基本概念&quot;&gt;&lt;a href=&quot;#2-基本概念&quot; class=&quot;headerlink&quot; title=&quot;2. 基本概念&quot;&gt;&lt;/a&gt;2. 基本概念&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;标签（Tab）： &lt;/li&gt;
&lt;li&gt;编辑区（Editing Area）：&lt;/li&gt;
&lt;li&gt;侧栏（Side Bar）：包含当前打开的文件以及文件夹视图。&lt;/li&gt;
&lt;li&gt;缩略图（Minimap）：文档的缩略图 &lt;/li&gt;
&lt;li&gt;命令板（Command Palette）：Sublime Text的操作中心，它使得我们基本可以脱离鼠标和菜单栏进行操作。&lt;/li&gt;
&lt;li&gt;控制台（Console）：使用Ctrl +` 调出，它既是一个标准的Python REPL，也可以直接对Sublime Text进行配置。 &lt;/li&gt;
&lt;li&gt;状态栏（Status Bar）：显示当前行号、当前语言和Tab格式等信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;3-基本配置&quot;&gt;&lt;a href=&quot;#3-基本配置&quot; class=&quot;headerlink&quot; title=&quot;3. 基本配置&quot;&gt;&lt;/a&gt;3. 基本配置&lt;/h2&gt;&lt;p&gt;点菜单“Preferences—&amp;gt;Setting - User”，打开“Preferences.sublime-settings”。这时，Sublime Text会打开配置文件，添加如下内容，设置字体大小，高亮当前行等配置。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;caret_style&amp;quot;: &amp;quot;phase&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;font_face&amp;quot;: 12,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;highlight_line&amp;quot;: true,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;highlight_modified_tabs&amp;quot;: true,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;quot;ignored_packages&amp;quot;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;quot;Vintage&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;4-编辑&quot;&gt;&lt;a href=&quot;#4-编辑&quot; class=&quot;headerlink&quot; title=&quot;4. 编辑&quot;&gt;&lt;/a&gt;4. 编辑&lt;/h2&gt;&lt;h3 id=&quot;1-基本编辑&quot;&gt;&lt;a href=&quot;#1-基本编辑&quot; class=&quot;headerlink&quot; title=&quot;1. 基本编辑&quot;&gt;&lt;/a&gt;1. 基本编辑&lt;/h3&gt;&lt;p&gt;方向键控制光标的上下左右&lt;br&gt;&lt;code&gt;Ctrl + Enter&lt;/code&gt; 在当前行下面新增一行并跳到该行&lt;br&gt;&lt;code&gt;Ctrl + Shift + Enter&lt;/code&gt; 在当前行上面新增一行并跳到该行&lt;br&gt;&lt;code&gt;Ctrl + ←/→&lt;/code&gt; 逐词移动&lt;br&gt;&lt;code&gt;Ctrl + Shift + ←/→&lt;/code&gt; 进行逐词选择&lt;br&gt;&lt;code&gt;Ctrl + ↑/↓&lt;/code&gt; 移动当前显示区域&lt;br&gt;&lt;code&gt;Ctrl + Shift + ↑/↓&lt;/code&gt; 移动当前行&lt;br&gt;&lt;code&gt;Ctrl + T&lt;/code&gt; 可以交换选中的两部分内容，或者多个部分轮流交换&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Ctrl + Z&lt;/code&gt; 恢复&lt;br&gt;&lt;code&gt;Ctrl + Shift + Z&lt;/code&gt; 重做&lt;br&gt;&lt;code&gt;Ctrl + Y&lt;/code&gt; 重做或重复&lt;br&gt;&lt;code&gt;Ctrl + U&lt;/code&gt; 软撤销（可撤销光标移动）&lt;br&gt;&lt;code&gt;Ctrl + Shift + U&lt;/code&gt; 软重做（可重做光标移动）&lt;br&gt;&lt;code&gt;Ctrl + C&lt;/code&gt;或&lt;code&gt;Ctrl + Insert&lt;/code&gt; 复制&lt;br&gt;&lt;code&gt;Ctrl + X&lt;/code&gt;或&lt;code&gt;Shift + Delete&lt;/code&gt; 剪切&lt;br&gt;&lt;code&gt;Ctrl + V&lt;/code&gt;或&lt;code&gt;Shift + Insert&lt;/code&gt; 粘贴&lt;br&gt;&lt;code&gt;Ctrl + Shift + V&lt;/code&gt; 粘贴并格式化&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + V&lt;/code&gt; 粘贴从历史记录&lt;br&gt;&lt;code&gt;Tab&lt;/code&gt; 光标后缩进&lt;br&gt;&lt;code&gt;Shift + Tab&lt;/code&gt; 行首反缩进&lt;br&gt;&lt;code&gt;Ctrl + ]&lt;/code&gt; 行缩进&lt;br&gt;&lt;code&gt;Ctrl + [&lt;/code&gt; 行反缩进&lt;br&gt;&lt;code&gt;Ctrl + J&lt;/code&gt; 合并行&lt;br&gt;&lt;code&gt;Alt + Q&lt;/code&gt; 自动换行&lt;br&gt;&lt;code&gt;Ctrl + Shift + D&lt;/code&gt; 复制行（如果已经选择词，则复制此词）&lt;br&gt;&lt;code&gt;Ctrl + Shift + K&lt;/code&gt; 删除光标所在行&lt;br&gt;&lt;code&gt;F9&lt;/code&gt; 行排序（大小写不敏感）&lt;br&gt;&lt;code&gt;Ctrl + F9&lt;/code&gt; 行排序（大小写敏感）&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + K&lt;/code&gt; 从光标处删除至行尾&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl Backspace&lt;/code&gt; 从光标处删除至行首&lt;br&gt;&lt;code&gt;Ctrl + T&lt;/code&gt; 选中词互换（选择后按Ctrl增加选择区）&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + U&lt;/code&gt; 词改为大写（未选择为本行）&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + L&lt;/code&gt; 词改为小写（未选择为本行）&lt;/p&gt;
&lt;h3 id=&quot;2-选择&quot;&gt;&lt;a href=&quot;#2-选择&quot; class=&quot;headerlink&quot; title=&quot;2. 选择&quot;&gt;&lt;/a&gt;2. 选择&lt;/h3&gt;&lt;p&gt;多重选词：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Ctrl + D&lt;/code&gt; 选择当前光标所在的词并高亮该词所有出现的位置&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl + D&lt;/code&gt; 重复按选择该词出现的下一个位置&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl + K&lt;/code&gt; 跳过当前选择词&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl + U&lt;/code&gt; 进行回退&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Esc&lt;/code&gt; 退出多重编辑。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Shift + [Home,End]&lt;/code&gt; 选择到行首行尾&lt;br&gt;&lt;code&gt;Ctrl + Shift + [Home,End]&lt;/code&gt; 选择到页首页尾&lt;br&gt;&lt;code&gt;Ctrl + Shift + J&lt;/code&gt; 选择当前缩进内容&lt;br&gt;&lt;code&gt;Ctrl + Shift + M&lt;/code&gt; 选择括号内的内容（重复选择括号）&lt;br&gt;&lt;code&gt;Alt + F3&lt;/code&gt; 选择所有相同的词&lt;br&gt;&lt;code&gt;Ctrl + Shift + ←/→&lt;/code&gt; 选择并跳转至上/下一个词&lt;br&gt;&lt;code&gt;Alt + Shift + ←/→&lt;/code&gt; 选择并跳转至上/下一个子词（区分大小写）&lt;br&gt;&lt;code&gt;Ctrl + L&lt;/code&gt; 选择行（重复按下将下一行加入选择）&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Ctrl + Shift + L&lt;/code&gt; 可以将当前选中区域打散，然后进行同时编辑&lt;br&gt;&lt;code&gt;Ctrl + J&lt;/code&gt; 可以把当前选中区域合并为一行&lt;br&gt;&lt;code&gt;Ctrl + M&lt;/code&gt; 在起始括号和结尾括号间切换&lt;br&gt;&lt;code&gt;Ctrl + Shift + M&lt;/code&gt; 快速选择括号间的内容&lt;br&gt;&lt;code&gt;Ctrl + Shift + J&lt;/code&gt; 快速选择同缩进的内容&lt;br&gt;&lt;code&gt;Ctrl + Shift + Space&lt;/code&gt; 快速选择当前作用域（Scope）的内容&lt;/p&gt;
&lt;h3 id=&quot;3-查找-amp-替换&quot;&gt;&lt;a href=&quot;#3-查找-amp-替换&quot; class=&quot;headerlink&quot; title=&quot;3. 查找&amp;amp;替换&quot;&gt;&lt;/a&gt;3. 查找&amp;amp;替换&lt;/h3&gt;&lt;h4 id=&quot;1-快速查找-amp-替换&quot;&gt;&lt;a href=&quot;#1-快速查找-amp-替换&quot; class=&quot;headerlink&quot; title=&quot;1. 快速查找&amp;amp;替换&quot;&gt;&lt;/a&gt;1. 快速查找&amp;amp;替换&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Shift + ←/→&lt;/code&gt; 或 &lt;code&gt;Ctrl + D&lt;/code&gt; 选中关键字&lt;br&gt;&lt;code&gt;F3&lt;/code&gt; 跳到其下一个出现位置&lt;br&gt;&lt;code&gt;Shift + F3&lt;/code&gt; 跳到其上一个出现位置&lt;br&gt;&lt;code&gt;Alt + F3&lt;/code&gt; 选中其出现的所有位置（之后可以进行多重编辑，也就是快速替换）&lt;/p&gt;
&lt;h4 id=&quot;2-标准查找-amp-替换&quot;&gt;&lt;a href=&quot;#2-标准查找-amp-替换&quot; class=&quot;headerlink&quot; title=&quot;2. 标准查找&amp;amp;替换&quot;&gt;&lt;/a&gt;2. 标准查找&amp;amp;替换&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Ctrl + F&lt;/code&gt; 调出搜索框&lt;br&gt;在搜索框输入关键字后&lt;code&gt;Enter&lt;/code&gt;跳至关键字当前光标的下一个位置&lt;br&gt;&lt;code&gt;Shift + Enter&lt;/code&gt; 跳至上一个位置&lt;br&gt;&lt;code&gt;Alt + Enter&lt;/code&gt; 选中其出现的所有位置&lt;br&gt;&lt;code&gt;Alt + C&lt;/code&gt; 切换大小写敏感（Case-sensitive）模式&lt;br&gt;&lt;code&gt;Alt + W&lt;/code&gt; 切换整字匹配（Whole matching）&lt;/p&gt;
&lt;p&gt;想要支持选中范围搜索，需要在配置文件中开启&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;auto_find_in_selection&amp;quot;: true&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Ctrl + H&lt;/code&gt; 调出替换框&lt;br&gt;&lt;code&gt;Ctrl + Shift + H&lt;/code&gt; 替换当前关键字&lt;br&gt;&lt;code&gt;Ctrl + Alt + Enter&lt;/code&gt; 替换所有匹配关键字&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Ctrl + I&lt;/code&gt; 增量搜索面板（Incremental Search Panel） &lt;/p&gt;
&lt;h4 id=&quot;3-正则表达式查找-amp-替换&quot;&gt;&lt;a href=&quot;#3-正则表达式查找-amp-替换&quot; class=&quot;headerlink&quot; title=&quot;3. 正则表达式查找&amp;amp;替换&quot;&gt;&lt;/a&gt;3. 正则表达式查找&amp;amp;替换&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Alt + R&lt;/code&gt; 切换正则匹配模式的开启/关闭&lt;/p&gt;
&lt;h4 id=&quot;4-多文件搜索-amp-替换&quot;&gt;&lt;a href=&quot;#4-多文件搜索-amp-替换&quot; class=&quot;headerlink&quot; title=&quot;4. 多文件搜索&amp;amp;替换&quot;&gt;&lt;/a&gt;4. 多文件搜索&amp;amp;替换&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Ctrl + Shift + F&lt;/code&gt; 开启多文件搜索&amp;amp;替换&lt;/p&gt;
&lt;h3 id=&quot;4-跳转&quot;&gt;&lt;a href=&quot;#4-跳转&quot; class=&quot;headerlink&quot; title=&quot;4. 跳转&quot;&gt;&lt;/a&gt;4. 跳转&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Ctrl + P&lt;/code&gt; 列出当前打开的文件（或者是当前文件夹的文件），输入文件名然后&lt;code&gt;Enter&lt;/code&gt;跳转至该文件&lt;br&gt;&lt;code&gt;Ctrl + R&lt;/code&gt; 列出当前文件中的符号（例如类名和函数名，但无法深入到变量名），输入符号名称&lt;code&gt;Enter&lt;/code&gt;即可以跳转到该处&lt;br&gt;&lt;code&gt;F12&lt;/code&gt;快速跳转到当前光标所在符号的定义处（Jump to Definition）&lt;br&gt;Markdown中，&lt;code&gt;Ctrl + R&lt;/code&gt; 会列出大纲&lt;br&gt;&lt;code&gt;Ctrl + G&lt;/code&gt; 跳转到指定行&lt;br&gt;&lt;code&gt;Ctrl + Shift + R&lt;/code&gt; 定位函数从项目&lt;br&gt;&lt;code&gt;Ctrl + [Home,End]&lt;/code&gt; 页首/页尾&lt;br&gt;&lt;code&gt;Ctrl + M&lt;/code&gt; 跳转至对应的括号&lt;br&gt;&lt;code&gt;Alt + -&lt;/code&gt; 跳转至上一个光标位置&lt;br&gt;&lt;code&gt;Alt + Shift + -&lt;/code&gt; 跳转至下一个光标位置&lt;/p&gt;
&lt;p&gt;组合跳转&lt;br&gt;在&lt;code&gt;Ctrl + P&lt;/code&gt;匹配到文件后，我们可以进行后续输入以跳转到更精确的位置：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@&lt;/code&gt; 符号跳转：输入@symbol跳转到symbol符号所在的位置&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#&lt;/code&gt; 关键字跳转：输入#keyword跳转到keyword所在的位置&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:&lt;/code&gt; 行号跳转：输入:12跳转到文件的第12行。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;5-文件夹&quot;&gt;&lt;a href=&quot;#5-文件夹&quot; class=&quot;headerlink&quot; title=&quot;5. 文件夹&quot;&gt;&lt;/a&gt;5. 文件夹&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Ctrl + K + B&lt;/code&gt; 显示或隐藏侧栏&lt;/p&gt;
&lt;h3 id=&quot;6-列模式&quot;&gt;&lt;a href=&quot;#6-列模式&quot; class=&quot;headerlink&quot; title=&quot;6. 列模式&quot;&gt;&lt;/a&gt;6. 列模式&lt;/h3&gt;&lt;p&gt;鼠标中键或Shift+鼠标右键: 列模式&lt;br&gt;&lt;code&gt;Ctrl + 鼠标列模式&lt;/code&gt; 增加列选择&lt;br&gt;&lt;code&gt;Alt + 鼠标列模式&lt;/code&gt; 减少列选择&lt;br&gt;&lt;code&gt;Ctrl + Alt + [Up,Down]&lt;/code&gt; 选择上/下多行列模式，光标在当前列&lt;br&gt;&lt;code&gt;Ctrl + Shift + L&lt;/code&gt; 选区进入列模式，光标在行尾&lt;/p&gt;
&lt;h3 id=&quot;7-书签&quot;&gt;&lt;a href=&quot;#7-书签&quot; class=&quot;headerlink&quot; title=&quot;7. 书签&quot;&gt;&lt;/a&gt;7. 书签&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Ctrl + F2&lt;/code&gt; 添加/删除书签&lt;br&gt;&lt;code&gt;F2&lt;/code&gt; 下一个书签&lt;br&gt;&lt;code&gt;Shift + F2&lt;/code&gt; 前一个书签&lt;br&gt;&lt;code&gt;Alt + F2&lt;/code&gt; 选择所有书签&lt;br&gt;&lt;code&gt;Ctrl + Shift + F2&lt;/code&gt; 删除所有书签&lt;/p&gt;
&lt;h3 id=&quot;8-标记&quot;&gt;&lt;a href=&quot;#8-标记&quot; class=&quot;headerlink&quot; title=&quot;8. 标记&quot;&gt;&lt;/a&gt;8. 标记&lt;/h3&gt;&lt;p&gt;&lt;code&gt;*Ctrl + K, Ctrl + Space&lt;/code&gt; 设置标记（建议：Alt+;,Alt+Space）&lt;br&gt;&lt;code&gt;*Ctrl + K, Ctrl + A&lt;/code&gt; 从光标位置选择至标记（建议：Alt+;,Alt+A）&lt;br&gt;&lt;code&gt;*Ctrl + K, Ctrl + W&lt;/code&gt; 从光标位置删除至标记（建议：Alt+;,Alt+W）&lt;br&gt;&lt;code&gt;*Ctrl + K, Ctrl + X&lt;/code&gt; 光标位置交换标记（建议：Alt+;,Alt+X）&lt;br&gt;&lt;code&gt;*Ctrl + K, Ctrl + G&lt;/code&gt; 清除标记（建议：Alt+;,Alt+G）&lt;/p&gt;
&lt;h3 id=&quot;9-宏&quot;&gt;&lt;a href=&quot;#9-宏&quot; class=&quot;headerlink&quot; title=&quot;9. 宏&quot;&gt;&lt;/a&gt;9. 宏&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Ctrl + Q&lt;/code&gt; 开关宏记录&lt;br&gt;&lt;code&gt;*Ctrl + Shift + Q&lt;/code&gt; 运行宏（建议：Ctrl+Alt+Q）&lt;/p&gt;
&lt;h3 id=&quot;10-拼写检查&quot;&gt;&lt;a href=&quot;#10-拼写检查&quot; class=&quot;headerlink&quot; title=&quot;10. 拼写检查&quot;&gt;&lt;/a&gt;10. 拼写检查&lt;/h3&gt;&lt;p&gt;&lt;code&gt;F6&lt;/code&gt; 开启/关闭拼写检查&lt;br&gt;&lt;code&gt;Ctrl + F6&lt;/code&gt; 定位下一个拼错&lt;br&gt;&lt;code&gt;Ctrl + Shift + F6&lt;/code&gt; 定位上一个拼错&lt;/p&gt;
&lt;h2 id=&quot;5-窗口-amp-标签&quot;&gt;&lt;a href=&quot;#5-窗口-amp-标签&quot; class=&quot;headerlink&quot; title=&quot;5. 窗口&amp;amp;标签&quot;&gt;&lt;/a&gt;5. 窗口&amp;amp;标签&lt;/h2&gt;&lt;h3 id=&quot;1-窗口&quot;&gt;&lt;a href=&quot;#1-窗口&quot; class=&quot;headerlink&quot; title=&quot;1. 窗口&quot;&gt;&lt;/a&gt;1. 窗口&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Ctrl + N&lt;/code&gt; 新建文件&lt;br&gt;&lt;code&gt;Ctrl + Shift + N&lt;/code&gt; 创建一个新窗口&lt;br&gt;&lt;code&gt;Ctrl + W&lt;/code&gt; 关闭窗口&lt;br&gt;&lt;code&gt;Ctrl + Shift + P&lt;/code&gt; 打开命令面板&lt;br&gt;&lt;code&gt;Ctrl + Alt + P&lt;/code&gt; 打开项目切换面板&lt;br&gt;&lt;code&gt;Ctrl + P&lt;/code&gt; 打开文件切换面板&lt;br&gt;Ctrl + ` 打开控制台&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Ctrl + Shift + T&lt;/code&gt; 打开最后关闭的文件&lt;br&gt;&lt;code&gt;Ctrl + O&lt;/code&gt; 打开文件&lt;br&gt;&lt;code&gt;Ctrl + S&lt;/code&gt; 保存文件&lt;br&gt;&lt;code&gt;Ctrl + Shift + S&lt;/code&gt; 另存文件&lt;br&gt;&lt;code&gt;Ctrl + W&lt;/code&gt; 关闭文件&lt;br&gt;&lt;code&gt;Ctrl + Shift + W&lt;/code&gt; 关闭窗口&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + B&lt;/code&gt; 开关侧栏&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Ctrl + Tab&lt;/code&gt; 按文件浏览顺序切换文件&lt;br&gt;&lt;code&gt;Ctrl + [PageUp, PageDown]&lt;/code&gt; 切换上/下个文件&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + ↑&lt;/code&gt; 当前文件至分割窗口&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + Shift + ↑&lt;/code&gt; 新建文件至分割窗口&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + ↓&lt;/code&gt; 合并分割窗口&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + ←/→&lt;/code&gt; 焦点移动到上/下个窗口&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + Shift + ←/→&lt;/code&gt; 当前文件移动到上/下个窗口&lt;/p&gt;
&lt;h3 id=&quot;2-标签&quot;&gt;&lt;a href=&quot;#2-标签&quot; class=&quot;headerlink&quot; title=&quot;2. 标签&quot;&gt;&lt;/a&gt;2. 标签&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Ctrl + N&lt;/code&gt; 在当前窗口创建一个新标签&lt;br&gt;&lt;code&gt;Ctrl + W&lt;/code&gt; 关闭当前标签&lt;br&gt;&lt;code&gt;Ctrl + Shift + T&lt;/code&gt; 恢复刚刚关闭的标签。&lt;/p&gt;
&lt;h3 id=&quot;3-分屏&quot;&gt;&lt;a href=&quot;#3-分屏&quot; class=&quot;headerlink&quot; title=&quot;3. 分屏&quot;&gt;&lt;/a&gt;3. 分屏&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Alt + Shift + 1&lt;/code&gt; 独屏&lt;br&gt;&lt;code&gt;Alt + Shift + 2&lt;/code&gt; 纵向二栏分屏&lt;br&gt;&lt;code&gt;Alt + Shift + 2&lt;/code&gt; 纵向三栏分屏&lt;br&gt;&lt;code&gt;Alt + Shift + 2&lt;/code&gt; 纵向四栏分屏&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Alt + Shift + 8&lt;/code&gt; 横向二栏分屏&lt;br&gt;&lt;code&gt;Alt + Shift + 9&lt;/code&gt; 横向三栏分屏&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Alt + Shift + 5&lt;/code&gt; 上下左右分屏&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Ctrl + 数字键&lt;/code&gt; 跳转到指定屏&lt;br&gt;&lt;code&gt;Ctrl + Shift + 数字键&lt;/code&gt; 将当前屏移动到指定屏&lt;/p&gt;
&lt;h3 id=&quot;4-全屏&quot;&gt;&lt;a href=&quot;#4-全屏&quot; class=&quot;headerlink&quot; title=&quot;4. 全屏&quot;&gt;&lt;/a&gt;4. 全屏&lt;/h3&gt;&lt;p&gt;&lt;code&gt;F11&lt;/code&gt; 普通全屏&lt;br&gt;&lt;code&gt;Shift + F11&lt;/code&gt; 无干扰全屏&lt;/p&gt;
&lt;h2 id=&quot;6-主题&quot;&gt;&lt;a href=&quot;#6-主题&quot; class=&quot;headerlink&quot; title=&quot;6. 主题&quot;&gt;&lt;/a&gt;6. 主题&lt;/h2&gt;&lt;p&gt;第三方主题可以在&lt;a href=&quot;https://sublime.wbond.net/browse/labels/theme&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;这里&lt;/a&gt;查找&lt;/p&gt;
&lt;h2 id=&quot;7-编码&quot;&gt;&lt;a href=&quot;#7-编码&quot; class=&quot;headerlink&quot; title=&quot;7. 编码&quot;&gt;&lt;/a&gt;7. 编码&lt;/h2&gt;&lt;h3 id=&quot;代码段&quot;&gt;&lt;a href=&quot;#代码段&quot; class=&quot;headerlink&quot; title=&quot;代码段&quot;&gt;&lt;/a&gt;代码段&lt;/h3&gt;&lt;p&gt;输入代码段名称后&lt;code&gt;Tab&lt;/code&gt;即可生成代码段&lt;br&gt;&lt;code&gt;*Ctrl + Space&lt;/code&gt; 自动完成，重复选择下一提示（建议：Alt+Space）&lt;br&gt;&lt;code&gt;Ctrl + /&lt;/code&gt; 行注释&lt;br&gt;&lt;code&gt;Ctrl + Shift + /&lt;/code&gt; 块注释&lt;br&gt;&lt;code&gt;Ctrl + Shift + [&lt;/code&gt; 折叠当前&lt;br&gt;&lt;code&gt;Ctrl + Shift + ]&lt;/code&gt; 展开当前&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + T&lt;/code&gt; 折叠属性&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + Num&lt;/code&gt; 折叠Num层级&lt;br&gt;&lt;code&gt;Ctrl + K, Ctrl + 0&lt;/code&gt; 展开所有&lt;br&gt;&lt;code&gt;Ctrl + B或F7&lt;/code&gt; 构建&lt;br&gt;&lt;code&gt;Ctrl + Shift + B&lt;/code&gt; 运行（执行完Esc即可关闭窗口）&lt;br&gt;&lt;code&gt;Ctrl + Break&lt;/code&gt; 执行&lt;/p&gt;
&lt;h3 id=&quot;格式化&quot;&gt;&lt;a href=&quot;#格式化&quot; class=&quot;headerlink&quot; title=&quot;格式化&quot;&gt;&lt;/a&gt;格式化&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Ctrl + [&lt;/code&gt; 向左缩进&lt;br&gt;&lt;code&gt;Ctrl + ]&lt;/code&gt; 向右缩进&lt;/p&gt;
&lt;h3 id=&quot;自动完成&quot;&gt;&lt;a href=&quot;#自动完成&quot; class=&quot;headerlink&quot; title=&quot;自动完成&quot;&gt;&lt;/a&gt;自动完成&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Tab&lt;/code&gt; 自动补全&lt;/p&gt;
&lt;h3 id=&quot;括号&quot;&gt;&lt;a href=&quot;#括号&quot; class=&quot;headerlink&quot; title=&quot;括号&quot;&gt;&lt;/a&gt;括号&lt;/h3&gt;&lt;p&gt;&lt;code&gt;Ctrl + M&lt;/code&gt; 可以快速的在起始括号和结尾括号间切换&lt;br&gt;&lt;code&gt;Ctrl + Shift + M&lt;/code&gt; 则可以快速选择括号间的内容&lt;br&gt;对于缩进型语言（例如Python）则可以使用&lt;code&gt;Ctrl + Shift + J&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;8-插件&quot;&gt;&lt;a href=&quot;#8-插件&quot; class=&quot;headerlink&quot; title=&quot;8. 插件&quot;&gt;&lt;/a&gt;8. 插件&lt;/h2&gt;&lt;h3 id=&quot;Emmet&quot;&gt;&lt;a href=&quot;#Emmet&quot; class=&quot;headerlink&quot; title=&quot;Emmet&quot;&gt;&lt;/a&gt;Emmet&lt;/h3&gt;&lt;p&gt;HTML、CSS代码快速编写神器&lt;br&gt;&lt;a href=&quot;http://docs.emmet.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://docs.emmet.io/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&gt; 子元素嵌套，+ 兄弟元素，^ 向上操作符，* 多元素操作符，() 分组操作符，# id，. class&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;符号&lt;/th&gt;
&lt;th&gt;意义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&amp;gt;&lt;/td&gt;
&lt;td&gt;子元素嵌套&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;+&lt;/td&gt;
&lt;td&gt;兄弟元素&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;^&lt;/td&gt;
&lt;td&gt;向上操作符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td&gt;多元操作符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;()&lt;/td&gt;
&lt;td&gt;分组操作符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;#&lt;/td&gt;
&lt;td&gt;id&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;.&lt;/td&gt;
&lt;td&gt;class&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;$&lt;/td&gt;
&lt;td&gt;元素编号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;{}&lt;/td&gt;
&lt;td&gt;添加文本&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;示例&lt;code&gt;div#header&amp;gt;ul.cls1.cls2+p+div&amp;gt;li*3^p+(div&amp;gt;ul&amp;gt;li)*2+(li{item $})*3&lt;/code&gt;&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;div id=&amp;quot;header&amp;quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;ul class=&amp;quot;cls1 cls2&amp;quot;&amp;gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;li&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;li&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;li&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;ul&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;lt;li&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;/ul&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;ul&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;lt;li&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;/ul&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;li&amp;gt;item 1&amp;lt;/li&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;li&amp;gt;item 2&amp;lt;/li&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;lt;li&amp;gt;item 3&amp;lt;/li&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;BracketHighlighter&quot;&gt;&lt;a href=&quot;#BracketHighlighter&quot; class=&quot;headerlink&quot; title=&quot;BracketHighlighter&quot;&gt;&lt;/a&gt;BracketHighlighter&lt;/h3&gt;&lt;p&gt;高亮显示匹配的括号、引号和标签。&lt;/p&gt;
&lt;p&gt;ColorHighlighter&lt;br&gt;显示所选颜色值的颜色，并集成了ColorPicker&lt;/p&gt;
&lt;p&gt;Compact Expand CSS Command&lt;br&gt;使CSS属性展开及收缩，格式化CSS代码。&lt;br&gt;按 Ctrl+Alt+[ 收缩CSS代码为一行显示，按 Ctrl+Alt+] 展开CSS代码为多行显示&lt;/p&gt;
&lt;p&gt;SublimeTmpl&lt;br&gt;快速生成文件模板。&lt;br&gt;&lt;code&gt;Ctrl+Alt+h&lt;/code&gt; 新建 html 文件&lt;br&gt;&lt;code&gt;Ctrl+Alt+j&lt;/code&gt; 新建 javascript 文件&lt;br&gt;&lt;code&gt;Ctrl+Alt+c&lt;/code&gt;新建 css 文件&lt;br&gt;&lt;code&gt;Ctrl+Alt+p&lt;/code&gt;新建 php 文件&lt;br&gt;&lt;code&gt;Ctrl+Alt+r&lt;/code&gt; 新建 ruby 文件&lt;br&gt;&lt;code&gt;Ctrl+Alt+Shift+p&lt;/code&gt;新建 python 文件&lt;/p&gt;
&lt;p&gt;JsFormat&lt;br&gt;JavaScript代码格式化。&lt;/p&gt;
&lt;p&gt;Alignment&lt;br&gt;使代码格式的自动对齐。&lt;/p&gt;
&lt;p&gt;AutoFileName&lt;br&gt;自动补全文件(目录)名。&lt;/p&gt;
&lt;p&gt;DocBlockr&lt;br&gt;快速生成JavaScript (including ES6), PHP, ActionScript, Haxe, CoffeeScript, TypeScript, Java, Groovy, Objective C, C, C++ and Rust语言函数注释。&lt;/p&gt;
&lt;p&gt;SublimeCodeIntel&lt;br&gt;智能提示&lt;/p&gt;
&lt;p&gt;HTML-CSS-JS Prettify&lt;br&gt;HTML、CSS、JS格式化。&lt;/p&gt;
&lt;p&gt;LiveReload&lt;br&gt;调试网页实时自动更新。&lt;/p&gt;
&lt;p&gt;GitGutter&lt;br&gt;自上次git commit以来已经改变的行。一个指示器显示在行号的旁边。&lt;/p&gt;
&lt;p&gt;Gist&lt;/p&gt;
&lt;p&gt;SidebarEnhancements&lt;/p&gt;
&lt;p&gt;Schemr&lt;/p&gt;
&lt;p&gt;Anaconda&lt;/p&gt;
&lt;p&gt;Djaneiro&lt;/p&gt;
&lt;p&gt;SublimeLinter&lt;/p&gt;
&lt;p&gt;Markdown Preview&lt;/p&gt;
&lt;p&gt;Better Completion，全能代码提示&lt;/p&gt;
&lt;p&gt;IMESupport，输入法不跟随时安装&lt;/p&gt;
&lt;p&gt;autoprefixer&lt;/p&gt;
&lt;p&gt;移除插件&lt;br&gt;&lt;code&gt;Ctrl+Shift+P&lt;/code&gt;，在对话框中输入“Package Control:Remove Package”&lt;/p&gt;
&lt;p&gt;HTMLBeautify：格式化HTML。&lt;br&gt;AutoPEP8：格式化Python代码。&lt;br&gt;Alignment：进行智能对齐。&lt;br&gt;SublimeREPL 控制台变多行&lt;/p&gt;
&lt;h2 id=&quot;参考：&quot;&gt;&lt;a href=&quot;#参考：&quot; class=&quot;headerlink&quot; title=&quot;参考：&quot;&gt;&lt;/a&gt;参考：&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://lucida.me/blog/sublime-text-complete-guide/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://lucida.me/blog/sublime-text-complete-guide/&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/wind128/p/4409422.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.cnblogs.com/wind128/p/4409422.html&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/idxuanjun/article/details/13292847&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://blog.csdn.net/idxuanjun/article/details/13292847&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-安装与初始配置&quot;&gt;&lt;a href=&quot;#1-安装与初始配置&quot; class=&quot;headerlink&quot; title=&quot;1. 安装与初始配置&quot;&gt;&lt;/a&gt;1. 安装与初始配置&lt;/h2&gt;&lt;p&gt;安装在Ubuntu上，直接在&lt;a href=&quot;http://www.sublimetext.com/3&quot;&gt;官网&lt;/a&gt;下载deb包安装即可。&lt;br&gt;安装成功后，即可在命令行中打开软件&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;subl file       # 使用Sublime Text打开file文件&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;subl folder     # 使用Sublime Text打开folder文件夹&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;安装Package Control，参考&lt;a href=&quot;https://packagecontrol.io/installation&quot;&gt;官方介绍的方法&lt;/a&gt;安装，之后使用&lt;code&gt;Ctrl + Shift + P&lt;/code&gt;打开命令面板，输入pcip就会出现Package Control。&lt;/p&gt;
&lt;h2 id=&quot;2-基本概念&quot;&gt;&lt;a href=&quot;#2-基本概念&quot; class=&quot;headerlink&quot; title=&quot;2. 基本概念&quot;&gt;&lt;/a&gt;2. 基本概念&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;标签（Tab）： &lt;/li&gt;
&lt;li&gt;编辑区（Editing Area）：&lt;/li&gt;
&lt;li&gt;侧栏（Side Bar）：包含当前打开的文件以及文件夹视图。&lt;/li&gt;
&lt;li&gt;缩略图（Minimap）：文档的缩略图 &lt;/li&gt;
&lt;li&gt;命令板（Command Palette）：Sublime Text的操作中心，它使得我们基本可以脱离鼠标和菜单栏进行操作。&lt;/li&gt;
&lt;li&gt;控制台（Console）：使用Ctrl +` 调出，它既是一个标准的Python REPL，也可以直接对Sublime Text进行配置。 &lt;/li&gt;
&lt;li&gt;状态栏（Status Bar）：显示当前行号、当前语言和Tab格式等信息。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="教程" scheme="http://blog.pfchai.com/tags/%E6%95%99%E7%A8%8B/"/>
    
      <category term="工具" scheme="http://blog.pfchai.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="Sublime Text" scheme="http://blog.pfchai.com/tags/Sublime-Text/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://blog.pfchai.com/2016/04/hello-world/"/>
    <id>http://blog.pfchai.com/2016/04/hello-world/</id>
    <published>2016-04-24T04:59:54.983Z</published>
    <updated>2016-04-24T04:59:54.983Z</updated>
    
    <content type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Run-server&quot;&gt;&lt;a href=&quot;#Run-server&quot; class=&quot;headerlink&quot; title=&quot;Run server&quot;&gt;&lt;/a&gt;Run server&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/server.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Server&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Generate-static-files&quot;&gt;&lt;a href=&quot;#Generate-static-files&quot; class=&quot;headerlink&quot; title=&quot;Generate static files&quot;&gt;&lt;/a&gt;Generate static files&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo generate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/generating.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Generating&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Deploy-to-remote-sites&quot;&gt;&lt;a href=&quot;#Deploy-to-remote-sites&quot; class=&quot;headerlink&quot; title=&quot;Deploy to remote sites&quot;&gt;&lt;/a&gt;Deploy to remote sites&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo deploy&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/deployment.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Deployment&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
  </entry>
  
</feed>
